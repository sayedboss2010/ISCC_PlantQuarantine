

@model List<PlantQuar.DTO.DTO.Export_CheckRequest.EX_CheckRequestCertificatesDTO>
@using System.Linq;

@{
    ViewBag.Title = "";
    Layout = "~/Views/Shared/_LayoutPage1.cshtml";
    //  var indexx = 0;
    //  var x = 0;
}

<link href="~/Content/DataTables/css/jquery.dataTables.min.css" rel="stylesheet" />
<script src="~/scripts/DataTables/jquery.dataTables.min.js"></script>
<link href="~/Content/DataTables/css/dataTables.bootstrap.css" rel="stylesheet" />
<script src="~/Scripts/DataTables/dataTables.bootstrap.js"></script>
<script src="~/scripts/jquery.qrcode.js"></script>
<script src="~/scripts/qrcode.js"></script>
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<style>
    caption {
        color: #000000;
        text-align: right;
        caption-side: top;
        font-weight: bold;
    }

    th {
        background: unset !important;
        color: #000000 !important;
    }
</style>
@section Title{
    <h2 class="ls-top-header">بيان فحص رسائل الصادر</h2>
}
@if (Model != null)
{<div id="tableArabic" style="width: 21cm;  background: gray; margin: auto; padding-top: .6cm">
        <div id="border" style="width: 20cm;  background: white; margin: auto; border: 1px solid #000; font-family: 'Arial regular' !important; font-size: 10pt;">
            <div id="header" style="height:3.5cm;">
                <div class="" style="margin:auto;height:inherit;border-bottom:1px solid #000;display:flex;">
                    <div class="" style="width:10cm; height:inherit;padding:3px">
                        <div class="col-md-4 col-sm-4" style="display:inline-block;float:right;padding: 3px;height: inherit;">
                            <img class="img1" style="" src="/assets/images/capq/logo-capq-114.png">
                        </div>
                        <div class="col-md-8 col-sm-8" style="display:inline-block;height: inherit;">
                            <p class="lab-2" style="margin-top:40px;font-weight: bold;font-size:15.5px; margin-top: 20px; text-align: center;">
                                جمهورية مصر العربية<br>
                                وزارة الزراعة واستصلاح الأراضي<br>
                                الإدارة المركزية للحجر الزراعي

                            </p>
                        </div>
                    </div>
                    <div class="verticalLine" style="margin:0;border-right: 1px solid black;"></div>
                    <div class="" style="width: 10cm;height: inherit;padding: 3px;">
                        <div class="col-md-8 col-sm-8" style="display:inline-block;float:right;height: inherit;text-align: right;">
                            <label style="margin-top: 10px;font-size: 17px;">بيان فحص رسائل صادر</label>
                            <br />
                            <label>رقم:</label><span>@Model.FirstOrDefault().EXCheckRequest_Number</span>
                            <br>

                            <label>اسم المنفذ/المحطة:</label>
                            @*@ViewBag.Outlet_Name*@
                            @if (@Model.FirstOrDefault().Outlet_Examination_Name != null)
                            {
                                <span>
                                    @Model.FirstOrDefault().Outlet_Examination_Name
                                </span>
                            }
                            else
                            { <span>
                                    @Model.FirstOrDefault().Station_Examination
                                </span>
                            }

                        </div>

                        <div class="col-md-4 col-sm-4" style="display:inline-block;height:inherit;">
                            @*<label style=" font-family: 'alphanumericqr-e5zz'!important; font-size:100px;">1</label>*@
                            <label style="width: 100px; height: 100px; margin-bottom: 0px; float: left; " class="qrcodeimport"></label>
                        </div>

                    </div>
                </div>
            </div>

            <div id="content" style="height:5.25cm;">
                <div class="" style="margin:auto;height:1.3cm;border-bottom:1px solid #000;display:flex;">
                    <div class="" style="width:50%; height:inherit;padding:3px">
                        <label>اسم المصدر:</label>
                        <span>@Model.FirstOrDefault().ImporterName</span>


                    </div>
                    <div class="verticalLine" style="margin:0;border-right: 1px solid black;"></div>
                    <div style="width :50%; height :inherit;padding :3px">
                        <label>العنوان:</label>
                        <span>@Model.FirstOrDefault().ComponyAddress</span>


                    </div>
                </div>
                <div class="" style="margin:auto;height:.6cm;border-bottom:1px solid #000;display:flex;">
                    <div class="" style="width:50%;height:inherit;padding:3px">
                        <label>رقم السجل التجاري:</label>
                        <span>@Model.FirstOrDefault().CommertialRecord</span>


                    </div>
                    <div class="verticalLine" style="margin:0;border-right: 1px solid black;"></div>
                    <div class="" style="width:50%; height:inherit;padding:3px">
                        <label>رقم البطاقة الضريبية:</label>

                        <span>@Model.FirstOrDefault().TaxesRecord</span>

                    </div>
                </div>
                <div class="" style="margin:auto;height:.6cm;border-bottom:1px solid #000;display:flex;">
                    <div class="" style="width:50%; height:inherit;padding:3px">
                        <label>اسم المندوب:</label>
                        <span>@Model.FirstOrDefault().MessageOwner</span>

                    </div>
                    <div class="verticalLine" style="margin:0;border-right: 1px solid black;"></div>
                    <div class="" style="width:50%; height:inherit;padding:3px">
                        <label>الرقم القومي:</label>
                        <span>@Model.FirstOrDefault().MessageOwnerNationalID</span>


                    </div>
                </div>
                <div class="" style="margin:auto;height:.6cm;border-bottom:1px solid #000;display:flex;">
                    <div class="" style="width:50%; height:inherit;padding:3px">
                        <label>الدولة المستوردة:</label>
                        <span>@Model.FirstOrDefault().ExportCountryName</span>

                    </div>
                    <div class="verticalLine" style="margin:0;border-right: 1px solid black;"></div>
                    <div class="" style="width:50%; height:inherit;padding:3px">
                        <label>نوع وميناء الشحن:</label>
                        <span>
                            @Model.LastOrDefault().TransportPortType
                            <span style="color:red">/</span>
                            @Model.LastOrDefault().TransportPortName
                        </span>
                    </div>
                </div>
                <div class="" style="margin:auto;height:.6cm;border-bottom:1px solid #000;display:flex;">
                    <div class="" style="width:50%; height:inherit;padding:3px">
                        <label>دولة العبور:</label>
                        @for (int i = 0; i < Model.FirstOrDefault().TransiteCountryList.Count(); i++)
                        {<span>
                                @Model.FirstOrDefault().TransiteCountryList[i].TransitCountry

                            </span>
                        }
                    </div>
                    <div class="verticalLine" style="margin:0;border-right: 1px solid black;"></div>
                    <div class="" style="width:50%; height:inherit;padding:3px">
                        <label>نوع وميناء الشحن:</label>
                        @for (int i = 0; i < Model.FirstOrDefault().TransiteCountryList.Count(); i++)
                        {<span>
                                @Model.FirstOrDefault().TransiteCountryList[i].TransitPortType<span style="color:red">/</span>@Model.FirstOrDefault().TransiteCountryList[i].TransitPortName

                            </span>
                        }

                    </div>
                </div>
                <div class="" style="margin:auto;height:.6cm;border-bottom:1px solid #000;display:flex;">
                    <div class="" style="width:50%; height:inherit;padding:3px">
                        <label>مكان الفحص:</label>

                        @if (@Model.FirstOrDefault().Outlet_Examination_Name != null)
                        {
                            <span>
                                @Model.FirstOrDefault().Outlet_Examination_Name
                            </span>
                        }
                        else
                        { <span>
                                @Model.FirstOrDefault().Station_Examination
                            </span>
                        }

                    </div>
                    <div class="verticalLine" style="margin:0;border-right: 1px solid black;"></div>
                    <div class="" style="width:50%; height:inherit;padding:3px">
                        <label>كود المحطة:</label>
                        <span>@Model.FirstOrDefault().Station_Examination_Code</span>

                    </div>
                </div>
                <div class="" style="margin:auto;height:1.3cm;border-bottom:1px solid #000;display:flex;">
                    <div class="" style="width:33.33%; height:inherit;padding:3px">
                        <label>المحافظة:</label>
                        @if (@Model.FirstOrDefault().GovernateName != null)
                        {
                            <span>@Model.FirstOrDefault().GovernateName </span>
                        }
                        else if (@Model.FirstOrDefault().StationGovernment != null)
                        {
                            <span>@Model.FirstOrDefault().StationGovernment </span>
                        }
                        else
                        { <span>##### </span>}

                    </div>
                    <div class="verticalLine" style="margin:0;border-right: 1px solid black;"></div>
                    <div class="" style="width: 33.33%; height: inherit; padding: 3px">
                        <label>المركز:</label>

                        @if (@Model.FirstOrDefault().CenterName != null)
                        {
                            <span>@Model.FirstOrDefault().CenterName </span>
                        }
                        else if (@Model.FirstOrDefault().StationCenter != null)
                        {
                            <span>@Model.FirstOrDefault().StationCenter </span>
                        }
                        else
                        { <span>##### </span>}
                    </div>
                    <div class="verticalLine" style="margin:0;border-right: 1px solid black;"></div>
                    <div class="" style="width: 33.33%; height: inherit; padding: 3px">
                        <label>العنوان:</label>

                        @if (@Model.FirstOrDefault().Ex_CheckRequest_Examination_location != null)
                        {
                            <span> @Model.FirstOrDefault().Ex_CheckRequest_Examination_location </span>
                        }
                        else if (@Model.FirstOrDefault().StationAddress != null)
                        {
                            <span>@Model.FirstOrDefault().StationAddress </span>
                        }
                        else
                        { <span>##### </span>}

                    </div>
                </div>
            </div>
            <br />
            <div class="" style="margin:auto;height:auto;border-bottom:1px solid #000;display:flex;">
                <div class="" style="width:100%; height:inherit;padding:0px 3px">

                    <h4 style="font-weight: bold; text-align: center; margin: 0;">المنتجات</h4>
                    <table style="width:19.85cm !important;">


                        <tbody>
                            <tr style="border-bottom:1px solid #000; border-top:1px solid #000;">
                                <td style="border-left: 1px solid #000; border-top: 1px solid #000; width: 1.6cm; border-right: 1px solid #000; text-align: center; ">رقم اللوط</td>
                                <td style="border-left: 1px solid #000; border-top: 1px solid #000; width: 2.1cm; text-align: center; ">اسم المنتج</td>
                                <td style="border-left: 1px solid #000; border-top: 1px solid #000; width: 1.9cm; text-align: center; ">الوزن القائم</td>
                                <td style="border-left: 1px solid #000; border-top: 1px solid #000; width: 2.1cm; text-align: center; ">الوزن الصافي</td>
                                <td style="border-left: 1px solid #000; border-top: 1px solid #000; width: 1.9cm; text-align: center; ">نوع العبوة</td>
                                <td style="border-left: 1px solid #000; border-top: 1px solid #000; width: 2.6cm; text-align: center; ">وزن العبوة</td>
                                <td style="border-left: 1px solid #000; border-top: 1px solid #000; width: 1.5cm; text-align: center; ">العدد</td>
                                <td style="border-left: 1px solid #000; border-top: 1px solid #000; width: 5cm; text-align: center; ">معلومات اضافية</td>
                            </tr>


                        </tbody>
                        <tbody>
                            @for (int i = 0; i < Model.FirstOrDefault().Items_checkReqs.Count(); i++)
                            {
                                for (int m = 0; m < Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots.Count(); m++)
                                {

                                    <tr>
                                        <td style="text-align: center; border-left: 1px solid #000; border-bottom: 1px solid #000; border-right: 1px solid #000;">@Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].Lot_Number</td>
                                        <td style="text-align:center;border-left:1px solid #000; border-bottom:1px solid #000;">@Model.FirstOrDefault().Items_checkReqs[i].ItemShortNameAr</td>
                                        <td style="text-align:center;border-left:1px solid #000; border-bottom:1px solid #000;">
                                            @Math.Round(Convert.ToDouble(Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].GrossWeight), 3).ToString("0.000")
                                            <span class="red">كجم</span>
                                        </td>
                                        <td style="text-align:center;border-left:1px solid #000; border-bottom:1px solid #000;">@Math.Round(Convert.ToDouble(Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].Net_Weight), 3).ToString("0.000") <span class="red">كجم</span></td>
                                        <td style="text-align:center;border-left:1px solid #000; border-bottom:1px solid #000;">@Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].packageType</td>
                                        <td style="text-align:center;border-left:1px solid #000; border-bottom:1px solid #000;">@Math.Round(Convert.ToDouble(Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].Package_Based_Weight), 3).ToString("0.000") <span class="red">كجم</span></td>
                                        <td style="text-align:center;border-left:1px solid #000; border-bottom:1px solid #000;">@Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].Package_Count</td>
                                        <td style="text-align:right;border-left:1px solid #000; border-bottom:1px solid #000;">
                                            <label>الاسم العلمي:</label><span style="color:red;font-style:italic">@Model.FirstOrDefault().Items_checkReqs[i].Scientific_Name</span>
                                            <br />
                                            <label>كود المزرعة:</label><span>@Model.FirstOrDefault().Items_checkReqs[i].FarmCode_14</span>
                                            <br />
                                            <label>الصنف:</label><span>@Model.FirstOrDefault().Items_checkReqs[i].ItemCategoryName</span>
                                        </td>

                                    </tr>
                                }
                            }

                        </tbody>
                    </table>

                    <div class="verticalLine" style="margin:0;border-right: 1px solid black;"></div>

                    <label>الإجراءات التي تمت على الرسالة (لكل لوط)</label>
                    <table style="width:19.85cm !important;border-bottom:1px solid #000;">

                        @{ var count = Model.FirstOrDefault().List_Committee_Lot_Accept.Count();}
                        <thead>

                            <tr>
                                <td style="font-weight: bold; text-align: right;">رقم اللوط</td>
                                <td style="font-weight: bold; text-align: right;">نوع اللجنة</td>
                                <td style="font-weight: bold; text-align: right;">تاريخ اللجنة</td>
                                <td style="font-weight: bold; text-align: center;">اسماء الفاحصين</td>
                                <td style="font-weight: bold; text-align: right;">النتيجة</td>

                            </tr>


                        </thead>

                        <tbody>
                            @if (Model.FirstOrDefault().List_Committee_Lot_Accept != null)
                            {
                                for (int i = 0; i < Model.FirstOrDefault().List_Committee_Lot_Accept.Count(); i++)
                                {
                                    <tr>
                                        <td>@Model.FirstOrDefault().List_Committee_Lot_Accept[i].Lot_Number</td>

                                        <td>لجنة فحص-صادر</td>
                                        <td>@Model.FirstOrDefault().List_Committee_Lot_Accept[i].Delegation_Date.Value.ToString("dd/MM/yyyy")</td>
                                        <td style="text-align: center;">@Model.FirstOrDefault().List_Committee_Lot_Accept[i].committeeFullEmployee_Name</td>



                                        @*   <td>@Model.FirstOrDefault().List_Committee_Lot_Accept[i].ResultTypes_Name</td>*@

                                        @if (@Model.FirstOrDefault().List_Committee_Lot_Accept[i].ResultTypes_Name != null)
                                        {
                                            <td>@Model.FirstOrDefault().List_Committee_Lot_Accept[i].ResultTypes_Name</td>
                                        }
                                        else
                                        {
                                            var _status = "";
                                            var _isfinishedall = "";
                                            if (@Model.FirstOrDefault().List_Committee_Lot_Accept[i].Status == false)
                                            {
                                                if (@Model.FirstOrDefault().List_Committee_Lot_Accept[i].ResultTypes_Name == "تم الانتهاء بدون عمل")
                                                {
                                                    _status = "تم انتهاء  اللجنة بدون عمل";
                                                }
                                                else
                                                {
                                                    _status = "لم يتم عمل اللجنة او الوقت انتهي";
                                                }


                                            }
                                            else
                                            {

                                                if (@Model.FirstOrDefault().List_Committee_Lot_Accept[i].Status == true && @Model.FirstOrDefault().List_Committee_Lot_Accept[i].IsFinishedAll == false)
                                                {

                                                    _status = "تم انتهاء اللجنة بدون عمل";


                                                }
                                                else
                                                {
                                                    _status = " تم انتهاء اللجنة";


                                                }
                                            }
                                            if (@Model.FirstOrDefault().List_Committee_Lot_Accept[i].IsApproved == false)
                                            {

                                                _status = "تم رفض الموعد";
                                            }
                                            if (@Model.FirstOrDefault().List_Committee_Lot_Accept[i].IsFinishedAll == false)
                                            {
                                                _isfinishedall = "لم يتم العمل على كل اللوطات";
                                            }
                                            else if (@Model.FirstOrDefault().List_Committee_Lot_Accept[i].IsFinishedAll == true)
                                            {
                                                _isfinishedall = " تم العمل على كل اللوطات";
                                            }
                                            else
                                            {
                                                _isfinishedall = "لم يتم بدأ عمل اللجنة";
                                            }
                                            <td>
                                                @_status <br />
                                                @_isfinishedall
                                            </td>


                                        }

                                    </tr>
                                }
                            }


                        </tbody>
                    </table>
                    <label>نتائج سحب العينات</label>
                    <table style="width:19.85cm !important;border-bottom:1px solid #000;">


                        <tbody>
                            <tr>


                                <td style="font-weight: bold; text-align: right;"> اسم النبات</td>
                                <td style="font-weight: bold; text-align: right;">  التحليل</td>
                                <td style="font-weight: bold; text-align: right;">المعمل</td>
                                <td style="font-weight: bold; text-align: right;">النتيجة</td>
                                <td style="font-weight: bold; text-align: right;">المسبب</td>


                            </tr>


                        </tbody>
                        <tbody>

                            @if (Model.FirstOrDefault().List_Lot_Committee_Sample != null)
                            {
                                for (int s = 0; s < Model.FirstOrDefault().List_Lot_Committee_Sample.Count(); s++)
                                {
                                    <tr style="border-bottom:1px solid #000; ">


                                        <td style="border-left: none; border-bottom: 1px solid #000;">@Model.FirstOrDefault().List_Lot_Committee_Sample[s].itemName</td>
                                        <td style="border-left: none; border-bottom: 1px solid #000;">@Model.FirstOrDefault().List_Lot_Committee_Sample[s].Analysis_Name</td>
                                        <td style="border-left: none; border-bottom: 1px solid #000;">@Model.FirstOrDefault().List_Lot_Committee_Sample[s].Lab_Name</td>
                                        @if (@Model.FirstOrDefault().List_Lot_Committee_Sample[s].IsAccepted == true)
                                        {
                                            <td style="border-left: none; border-bottom: 1px solid #000;">مقبــول</td>
                                        }
                                        else if (@Model.FirstOrDefault().List_Lot_Committee_Sample[s].IsAccepted == true)
                                        {

                                        }
                                        else
                                        {
                                            <td style="border-left: none; border-bottom: 1px solid #000;">لم يتم اتخاذ اجراء</td>
                                        }

                                        <td hidden="hidden" style="border-left: none; border-bottom: 1px solid #000;"></td>

                                    </tr>
                                }
                            }


                        </tbody>
                    </table>
                    <label>إجراءات المعالجة</label>
                    <table style="width:19.85cm !important;border-bottom:1px solid #000;">


                        <tbody>
                            <tr>
                                <td style="font-weight: bold; text-align: right;">طريقة المعالجة</td>
                                <td style="font-weight: bold; text-align: right;">مادة المعالجة</td>
                                <td style="font-weight: bold; text-align: right;">مكان المعالجة</td>
                                <td style="font-weight: bold; text-align: right;">شركة المعالجة</td>
                                <td style="font-weight: bold; text-align: right;"> رقم بيان المعالجة</td>

                            </tr>


                        </tbody>
                        <tbody>
                            @if (Model.FirstOrDefault().List_Treatment != null)
                            {
                                for (int s = 0; s < Model.FirstOrDefault().List_Treatment.Count(); s++)
                                {
                                    <tr>
                                        <td>@Model.FirstOrDefault().List_Treatment[s].TreatmentMethod_Name</td>
                                        <td>@Model.FirstOrDefault().List_Treatment[s].TreatmentMat_Name</td>
                                        <td>@Model.FirstOrDefault().List_Treatment[s].Station_Place</td>
                                        <td>@Model.FirstOrDefault().List_Treatment[s].CompanyName</td>
                                        <td>@Model.FirstOrDefault().List_Treatment[s].ThermalSealNumber</td>
                                    </tr>
                                }
                            }





                        </tbody>
                    </table>






                    <table style="width:19.85cm !important;border-bottom:1px solid #000;">
                        <tbody>

                            <tr>
                                <td style="font-weight: bold; ">
                                    مكان الجشني:
                                </td>
                                <td>
                                    <span>
                                        @if (@Model.FirstOrDefault().Station_Genshi_Name != null && @Model.FirstOrDefault().Station_Genshi_Name != "")
                                        {

                                            <label class="bmd-label-static">@PlantQuar.WEB.Language.Resource_data1.Station</label>

                                            <span style="color:red">/</span><label class="bmd-label-static">
                                                @Model.FirstOrDefault().Station_Genshi_Name
                                            </label>
                                        }
                                        else
                                        {
                                            <label class="bmd-label-static">@PlantQuar.WEB.Language.Resource_data1.Port</label><span style="color:red">/</span><label class="bmd-label-static">
                                                @Model.FirstOrDefault().Station_Genshi_Name
                                            </label>





                                        }
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <td style="font-weight: bold; ">لجان الجشني: </td>
                            </tr>
                            <tr>
                                <td style="font-weight: bold;text-align:right; ">اللوطات</td>
                                <td style="font-weight: bold; text-align:right;">اسم لجنة الجشني</td>
                                <td style="font-weight: bold; text-align:right;">موقف لجنة الجشني</td>
                                <td style="font-weight: bold; text-align:right;">نوع الوحدة </td>
                                <td style="font-weight: bold;text-align:right; "> رقم الوحدة </td>
                                <td style="font-weight: bold;text-align:right; ">السيل الملاحي </td>


                                <td style="font-weight: bold; text-align:right;">الموظف</td>
                                <td style="font-weight: bold; text-align:right;">التاريخ</td>
                            </tr>


                        </tbody>
                        <tbody>




                            @if (Model.FirstOrDefault().List_GeshnyCommittee != null)
                            {
                                var count2 = Model.FirstOrDefault().List_GeshnyCommittee.Count();
                                for (int s = 0; s < Model.FirstOrDefault().List_GeshnyCommittee.Count(); s++)
                                {
                                    <tr>
                                        <td style="padding-left: 10px;">@Model.FirstOrDefault().List_GeshnyCommittee[s].Lot_Number</td>
                                        <td style="padding-left: 10px;">لجنة جشني</td>
                                        @if (Model.FirstOrDefault().List_GeshnyCommittee[s].IsApproved == true)
                                        {
                                            <td style="padding-left: 10px;"> مقبول</td>
                                        }
                                        else
                                        {
                                            <td style="padding-left: 10px;"> مرفوض</td>
                                        }
                                        <td style="padding-left: 10px;">@Model.FirstOrDefault().List_GeshnyCommittee[s].containers_Type_Name</td>
                                        <td style="padding-left: 10px;">@Model.FirstOrDefault().List_GeshnyCommittee[s].ContainerNumber</td>
                                        <td style="padding-left: 10px;">@Model.FirstOrDefault().List_GeshnyCommittee[s].NavigationalNumber</td>


                                        <td>
                                            <br />
                                            @Model.FirstOrDefault().List_GeshnyCommittee[s].Employee_Name <br />  @Model.FirstOrDefault().List_GeshnyCommitteeConfirm.Select(a => a.Employee_NameConfirm).FirstOrDefault()
                                        </td>

                                        <td>@Model.FirstOrDefault().List_GeshnyCommittee[s].Delegation_Date.Value.ToString("dd/MM/yyyy")</td>
                                    </tr>
                                }
                            }




                        </tbody>
                    </table>






                    <div style="border-bottom:1px solid #000;">
                        <label>الرسوم:</label>

                        <br />
                        <div>
                            <table style="width:100%">
                                <thead>
                                    <tr>
                                        <th>رسوم ثابتة</th>
                                    </tr>
                                    <tr>
                                        <th>الرسم</th>
                                        <th>الوزن بالطن/العدد</th>
                                        <th>القيمة</th>
                                        <th>الدفع</th>
                                        <th>الاجمالي بالجنية</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <th>رسوم طلب الفحص</th>
                                        <td></td>
                                        <td>10</td>
                                        @if (Model.FirstOrDefault().IsPaid == true)
                                        {


                                            <td>تم الدفع</td>
                                        }
                                        else
                                        {
                                            <td>لم يتم الدفع</td>
                                        }
                                        <td>10</td>
                                    </tr>
                                    <tr>
                                        <th>رسوم الفحص</th>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    @if (Model.FirstOrDefault().Fees_Item_All != null)
                                    {
                                        for (int i = 0; i < Model.FirstOrDefault().Fees_Item_All.Count; i++)
                                        {
                                            <tr>
                                                <td>  @Model.FirstOrDefault().Fees_Item_All[i].ItemName</td>
                                                @*<td>@Model.FirstOrDefault().Fees_Item_All[i].ItemShortName</td>*@
                                                @*@Math.Round(Convert.ToDouble(Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].GrossWeight), 3).ToString("0.000")*@
                                                <td> @Math.Round(Convert.ToDouble(Model.FirstOrDefault().Fees_Item_All[i].GrossWeight), 3).ToString("0.000")</td>
                                                <td>      @Math.Round(Convert.ToDouble(Model.FirstOrDefault().Fees_Item_All[i].Fees), 2).ToString("0.00")</td>
                                                @if (Model.FirstOrDefault().IsPaid == true)
                                                {//Is_Paid_Committee
                                                    <td>تم الدفع</td>

                                                }
                                                else
                                                {
                                                    <td>لم يتم الدفع</td>
                                                }
                                            </tr>
                                        }
                                    }
                                    @*<tr>
                                            <td>باذنجان</td>
                                            <td>108</td>
                                            <td>270</td>
                                            <td>تم الدفع</td>
                                            <td></td>
                                        </tr>*@
                                    <tr>
                                        <th>الاجمالي</th>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td>  @Math.Round(Convert.ToDouble(Model.FirstOrDefault().Fees_Item_All.Sum(a => a.Fees)), 2).ToString("0.00")</td>
                                    </tr>
                                    <tr>
                                        <th>رسوم الشهداء</th>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>


                                    @for (int i = 0; i < Model.FirstOrDefault().List_Fees_MartyrsCertificate.Count; i++)
                                    {

                                        <tr>
                                            <td>
                                                @Model.FirstOrDefault().List_Fees_MartyrsCertificate[i].Name_Ar
                                            </td>
                                            <td></td>
                                            <td>

                                                @Math.Round(Convert.ToDouble(Model.FirstOrDefault().List_Fees_MartyrsCertificate[i].Total_Amount), 2).ToString("0.00")
                                            </td>
                                            <td>

                                                @if (@Model.FirstOrDefault().IsPaid == true)
                                                {
                                                    <span>تم الدفع</span>
                                                }
                                                else
                                                {
                                                    <span>لم يتم الدفع</span>
                                                }
                                            </td>
                                            <td>@Math.Round(Convert.ToDouble(Model.FirstOrDefault().List_Fees_MartyrsCertificate.Sum(a => a.Total_Amount)), 2).ToString("0.00")</td>


                                        </tr>
                                    }









                                    <tr>
                                        <th>رسوم النوبتجية</th>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    @for (int i = 0; i < Model.FirstOrDefault().List_Shift.Count; i++)
                                    {
                                        <tr>
                                            <td></td>
                                            <td></td>
                                            <td> @Math.Round(Convert.ToDouble(Model.FirstOrDefault().List_Shift[i].Shift_Sum_All), 2).ToString("0.00") ج.م.</td>
                                            @if (Model.FirstOrDefault().List_Shift[i].IsPaidCommittee == true)
                                            {
                                                <td>تم الدفع</td>

                                            }
                                            else
                                            {
                                                <td>لم يتم الدفع</td>
                                            }




                                            <td></td>
                                        </tr>
                                    }
                                    @*<tr>
                                            <td>فترة ثانية</td>
                                            <td>2</td>
                                            <td>100</td>
                                            <td>تم الدفع</td>
                                            <td></td>
                                        </tr>*@
                                    <tr>
                                        <th>الاجمالي</th>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        @*@if (Model.FirstOrDefault().IsPaidCommittee == true)
                                            {
                                                <td>تم الدفع</td>

                                            }
                                            else
                                            {
                                                <td>لم يتم الدفع</td>
                                            }*@
                                        <td>
                                            @Math.Round(Convert.ToDouble(Model.FirstOrDefault().List_Shift.Sum(a => a.Shift_Sum_All)), 2).ToString("0.00")
                                            @*@Math.Round(Convert.ToDouble(Model.FirstOrDefault().Shift_Item_All), 2).ToString("0.00")*@  ج.م.
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>بدلات اللجان</th>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    @if (@Model.FirstOrDefault().List_ShiftEngineersCertificate.Count() > 0)
                                    {


                                        for (int i = 0; i < @Model.FirstOrDefault().List_ShiftEngineersCertificate.Count(); i++)
                                        {
                                            <tr>
                                                <td>
                                                    @Model.FirstOrDefault().List_ShiftEngineersCertificate[i].Shift_Name
                                                </td>
                                                <td>
                                                    @Model.FirstOrDefault().List_ShiftEngineersCertificate[i].Num_Eng
                                                </td>
                                                <td>
                                                    @Math.Round(Convert.ToDouble(Model.FirstOrDefault().List_ShiftEngineersCertificate[i].Shift_Amount), 2).ToString("0.00")
                                                </td>
                                                @if (Model.FirstOrDefault().List_ShiftEngineersCertificate[i].IsPaidEngineers == true)
                                                {
                                                    <td>تم الدفع</td>

                                                }
                                                else
                                                {
                                                    <td>لم يتم الدفع</td>
                                                }
                                                <td>
                                                    @Math.Round(Convert.ToDouble(Model.FirstOrDefault().List_ShiftEngineersCertificate[i].Shift_Sum_All), 2).ToString("0.00")
                                                </td>


                                            </tr>
                                        }
                                        <tr>
                                            <th>الاجمالي</th>
                                            <td>  @Model.FirstOrDefault().List_ShiftEngineersCertificate.Sum(a => a.Num_Eng)</td>
                                            <td></td>
                                            <td></td>

                                            @*@for (int i = 0; i < 1; i++)
                                                {
                                                    // if (Model.FirstOrDefault().List_ShiftEngineersCertificate.Any(a=>a.IsPaidEngineers) == true)
                                                    if (Model.FirstOrDefault().IsPaidCommittee == true)
                                                    {
                                                        <td>تم الدفع</td>
                                                    }
                                                    else
                                                    {
                                                        <td>لم يتم الدفع</td>
                                                    }
                                                }*@
                                            <td> @Math.Round(Convert.ToDouble(Model.FirstOrDefault().List_ShiftEngineersCertificate.Sum(a => a.Shift_Sum_All)), 2).ToString("0.00")</td>
                                        </tr>
                                    }
                                    @if (Model.FirstOrDefault().List_Sample != null)
                                    {
                                        <tr>
                                            <th>رسوم سحب العينات</th>
                                            <td> </td>
                                            <td> </td>
                                            <td> </td>
                                            <td></td>
                                        </tr>
                                        if (Model.FirstOrDefault().List_Sample.Count > 0)
                                        {
                                            <tr>
                                                <td></td>

                                                <td>

                                                    @Model.FirstOrDefault().List_Sample.Sum(a => a.Sample_Count)

                                                </td>
                                                <td>
                                                    200
                                                </td>


                                                <td>
                                                    @{
                                                        bool? Ispiad = Model.FirstOrDefault().List_Sample.Select(a => a.Is_Paid_Sample2).FirstOrDefault();


                                                        if (Ispiad == true)
                                                        {
                                                            /*var xx = Model.FirstOrDefault().List_Sample.Select(a => a.Is_Paid_Sample2).Any();*/
                                                            <span>تم  الدفع</span>
                                                        }
                                                        else
                                                        {
                                                            <span>لم يتم الدفع</span>
                                                        }
                                                    }

                                                </td>
                                                <td>
                                                    @if (Model.FirstOrDefault().List_Sample != null)
                                                    {
                                                        @Model.FirstOrDefault().List_Sample.Sum(a => a.Sample_Sum_All)
                                                    }
                                                </td>



                                            </tr>
                                            <tr>
                                                <th>الاجمالي</th>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td>
                                                    @if (Model.FirstOrDefault().List_Sample != null)
                                                    {
                                                        @Model.FirstOrDefault().List_Sample.Sum(a => a.Sample_Sum_All)
                                                    }
                                                </td>
                                            </tr>
                                        }
                                        else
                                        {
                                            <tr><td colspan="3"></td> <td colspan="2"> لا يوجد سحوبات </td></tr>
                                        }
                                    }


                                    @*<tr>

                                            <td>تحليل متبقيات مبيدات</td>
                                            <td>2</td>
                                            <td>400</td>
                                            <td>لم يتم الدفع</td>
                                            <td></td>
                                        </tr>*@
                                    @*<tr>
                                            <td>تحليل فطر</td>
                                            <td>2</td>
                                            <td>400</td>
                                            <td>لم يتم الدفع</td>
                                            <td></td>
                                        </tr>*@

                                    @*<tr>
                                            <td>طريقة المعالجة</td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                        </tr>

                                        <tr>
                                            <th>الاجمالي</th>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td>2500</td>
                                        </tr>*@

                                </tbody>
                            </table>



                        </div>

                        @if (@Model.FirstOrDefault().List_Treatment != null)
                        {

                            <table style="width:100%;">
                                <thead>
                                    <tr>
                                        <th>رسوم المعالجة</th>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    @if (@Model.FirstOrDefault().List_Treatment.Count > 0)
                                    {
                                        <tr>
                                            <th> نوع المعالجة</th>
                                            <th>طريقة المعالجة</th>
                                            <th>مادة المعالجة</th>

                                            <th>الدفع</th>
                                            <th>القيمة</th>
                                        </tr>
                                    }
                                </thead>
                                @if (@Model.FirstOrDefault().List_Treatment.Count > 0)
                                {
                                    <tbody>
                                        @for (int i = 0; i < @Model.FirstOrDefault().List_Treatment.Count(); i++)
                                        {
                                            <tr>
                                                <td>
                                                    @Model.FirstOrDefault().List_Treatment[i].TreatmentType_Name
                                                </td>
                                                <td>
                                                    @Model.FirstOrDefault().List_Treatment[i].TreatmentMethod_Name
                                                </td>
                                                <td>
                                                    @Model.FirstOrDefault().List_Treatment[i].TreatmentMat_Name
                                                </td>
                                                <td>

                                                    @if (Model.FirstOrDefault().List_Treatment[i].Is_Paid_TreatmenCommitte == true)
                                                    {
                                                        <span>تم الدفع</span>
                                                    }
                                                    else
                                                    {
                                                        <span>لم يتم الدفع</span>
                                                    }

                                                </td>
                                                <td>
                                                    @Math.Round(Convert.ToDouble(Model.FirstOrDefault().List_Treatment[i].Treatment_Amount), 2).ToString("0.00")
                                                </td>




                                            </tr>

                                        }



                                    </tbody>
                                    <tfoot>
                                        <tr>
                                            <th style="text-align:right;">الاجمالى</th>
                                            <td></td>
                                            <td></td>
                                            <td>
                                                @for (int i = 0; i < 1; i++)
                                                {
                                                    if (Model.FirstOrDefault().List_Treatment[i].Is_Paid_Treatment2 == true)
                                                    {
                                                        <span>تم الدفع</span>
                                                    }
                                                    else
                                                    {
                                                        <span>لم يتم الدفع</span>
                                                    }
                                                }
                                            </td>
                                            <td style="text-align:right;">
                                                @Math.Round(Convert.ToDouble(Model.FirstOrDefault().List_Treatment.Sum(a => a.Treatment_Amount)), 2).ToString("0.00")
                                            </td>






                                        </tr>
                                    </tfoot>
                                }
                                else
                                {

                                    <tbody>

                                        <tr>
                                            <td colspan="4"></td>
                                            <td colspan="1">لا يوجد معالجات </td>
                                        </tr>
                                    </tbody>
                                }
                            </table>

                        }

                        <br />  <hr />


                        <span>
                            <span style="font-weight: bold;">السعر الأجمالى للطلب الفحص الصادر  (بالجنيه المصرى) </span>
                            @if (Model != null)
                            {
                                var t0 = 10;
                                var t1 = Model.FirstOrDefault().Fees_Item_All.Select(a => a.Fees).FirstOrDefault();

                                //var t11 = Model.FirstOrDefault().List_Fees_MartyrsCertificate.Select(a => a.Total_Amount).FirstOrDefault();
                                var t11 = Model.FirstOrDefault().List_Fees_MartyrsCertificate.Sum(a => a.Total_Amount);
                                var t2 = Model.FirstOrDefault().List_Sample.Sum(a => a.Sample_Sum_All);
                                var t22 = Model.FirstOrDefault().List_Shift.Sum(a => a.Shift_Sum_All); //Model.FirstOrDefault().Shift_Item_All;
                                var t3 = Model.FirstOrDefault().List_ShiftEngineersCertificate.Sum(a => a.Shift_Sum_All);
                                var t4 = Model.FirstOrDefault().List_Treatment.Sum(a => a.Treatment_Amount);
                                var tot = @Math.Round(Convert.ToDouble((t0 + t1 + t11 + t22 + t2 + t3 + t4)), 2).ToString("0.00");
                                <span> @tot ج.م.</span>
                            }

                        </span>
                        <br />  <hr />
                        @*التأشيرة*@
                        @if (Model.FirstOrDefault().EX_CheckRequest_VisaCertificate.Count() > 0)
                        {
                            <table>
                                <thead>
                                    <tr>
                                        <td style="text-align: center; font-weight: bold; text-align: right; width: 20%;">التأشيرة </td>
                                        <td style="text-align: center; font-weight: bold; text-align: right; width: 20%;">تاريخ التأشيرة </td>
                                        <td style="text-align: center; font-weight: bold; text-align: right; width: 20%;">اسم الموظف </td>

                                    </tr>
                                </thead>
                                <tbody>

                                    @for (int cm = 0; cm < Model.FirstOrDefault().EX_CheckRequest_VisaCertificate.Count(); cm++)
                                    {
                                        <tr>
                                            <td style="text-align: center; font-weight: bold; text-align: right; width: 20%;">@Model.FirstOrDefault().EX_CheckRequest_VisaCertificate[cm].Visa_Name</td>
                                            <td style="text-align: center; font-weight: bold; text-align: right; width: 20%;">@Model.FirstOrDefault().EX_CheckRequest_VisaCertificate[cm].Date_Visa.Value.ToString("dd/MM/yyyy")</td>
                                            <td style="text-align: center; font-weight: bold; text-align: right; width: 20%;">@Model.FirstOrDefault().EX_CheckRequest_VisaCertificate[cm].Visa_Result_Employee_Name</td>
                                        </tr>
                                    }

                                </tbody>
                            </table>

                        }

                        <br />  <hr />
                        @if (Model.FirstOrDefault().FinalResultCertificate.Count() > 0)
                        {
                            <table>
                                <thead>
                                    <tr>
                                        <td style="text-align: center; font-weight: bold; text-align: right; width: 20%;">اسم الموظف </td>
                                        <td style="text-align: center; font-weight: bold; text-align: right; width: 20%;">تاريخ الطلب </td>
                                        <td style="text-align: center; font-weight: bold; text-align: right; width: 20%;">حالة الطلب </td>
                                        <td style="text-align: center; font-weight: bold; text-align: right; width: 20%;">الموقف النهائي للطلب </td>
                                    </tr>
                                </thead>
                                <tbody>

                                    @for (int cm = 0; cm < Model.FirstOrDefault().FinalResultCertificate.Count(); cm++)
                                    {
                                        <tr>
                                            <td style="text-align: center; font-weight: bold; text-align: right; width: 20%;">@Model.FirstOrDefault().FinalResultCertificate[cm].Final_Result_Employee_Name</td>
                                            <td style="text-align: center; font-weight: bold; text-align: right; width: 20%;">@Model.FirstOrDefault().FinalResultCertificate[cm].DateFinalResult.Value.ToString("dd/MM/yyyy")</td>
                                            @if (Model.FirstOrDefault().FinalResultCertificate[cm].Final_Result_Status == true)
                                            {
                                                <td style="text-align: center; font-weight: bold; text-align: right; width: 20%;">الطلب يعمل</td>
                                            }
                                            else
                                            {
                                                <td style="text-align: center; font-weight: bold; text-align: right; width: 20%;">الطلب لا يعمل</td>
                                            }
                                            <td style="text-align: center; font-weight: bold; text-align: right; width: 20%;">@Model.FirstOrDefault().FinalResultCertificate[cm].Final_Result_Name</td>
                                        </tr>
                                    }

                                </tbody>
                            </table>

                        }



                    </div>









                    <br />

                    <div id="footer3" style="height:3cm;">
                        <div class="" style="margin:auto;height:inherit;display:flex;">
                            <div class="" style="width: 33.33333333%; height: inherit;padding: 3px">
                                <label>مكان الإصدار:</label>
                                <span>@ViewBag.Outlet_Name </span>
                            </div>
                            <div class="verticalLine" style="margin:0;border-right: 1px solid black;"></div>
                            <div class="" style="width: 33.33333333%; height: inherit;padding: 3px">
                                <label>اسم المسئول المفوض:</label>
                                <span>@ViewBag.FullName </span>
                                <br>
                                <label>التوقيع:</label>
                                <span></span>
                            </div>
                            <div class="verticalLine" style="margin:0;border-right: 1px solid black;"></div>
                            <div class="" style="width: 33.33333333%; height: inherit;padding: 3px">
                                <label>تاريخ الإصدار:</label>


                                <span>@DateTime.Now.ToString("yy/MM/dd")</span>
                                <div class="circle" style="margin: 9px 3px; width:92px; height:92px; background-color:white; border:1px solid black; border-radius :50%; float :left;">

                                </div>
                            </div>
                        </div>
                    </div>

                </div>

            </div>



        </div>


        <div class="text-width" style="font-family: 'Arial regular' !important; font-size: 10pt; width: 20cm; background-color: white; margin: auto; height: 1cm; display: flex; text-align: center">
            <div class="" style="width:100%; height:inherit; padding:3px">
                <span>
                    لا تتحمل الإدارة المركزية للحجر الزراعي أو أي من موظفيها أو ممثليها أي مسئولية مالية قد تنجم عن هذه الشهادة
                </span>
            </div>
        </div>

    </div>

}

<br />
<div class="row">
    <div class="col-md-5">
    </div>
    <div class="col-md-4">

        <button id="PrintResultButton" class="btn btnar" value='Print' onclick='printar("tableArabic")'> اطبع </button>

    </div>

    <div class="col-md-3"></div>
</div>

<script>

    function printar(k) {

        var restorepage2 = document.body.innerHTML;
        var printcontent2 = $('#' + k).html();

        document.body.innerHTML = printcontent2;
             jQuery('.qrcodeimport').qrcode("@Model.FirstOrDefault().EXCheckRequest_Number");
        var css = `@@page{margin: 0cm .5cm .5cm .5cm!important;}.verticalLine{width:1px !important;margin: 0!important;background: #000!important;}.lab-2 {margin-top: 40px;margin-right: 8px;text-align: center;font-size: 16px}img.img1 {visibility: visible;}.col-md-4 {width: 33.33333333%;}.col-md-8 {width: 66.66666667%;}.col-md-6 {width: 50%;}.col-md-7 {width: 58.33333333%;}.col-md-5 {width: 41.66666667%;} canvas{display: inline-block !important;vertical-align: baseline!important;top: 10px;position: absolute;}#caption1 {color: #000000;text-align: right;caption-side: top;font-weight: bold;}  `,

            //var css = `.display-none {visibility: hidden!important;} .footer {position:fixed!important;}@@page{margin:10px 15px 10px 15px!important;}td{padding: 5px!important;} #tableArabic{height: 1120px !important;}`,
            head = document.head || document.getElementsByTagName('head')[0],
            style = document.createElement('style');
        style.type = 'text/css';
        style.media = 'print';
        if (style.styleSheet) {
            style.styleSheet.cssText = css;
        }
        else {
            style.appendChild(document.createTextNode(css));
        }
        head.appendChild(style);
        window.print();
        history.go(0);
        window.location.reload();
        document.body.innerHTML = restorepage2;




    }
</script>

<script>



        function btndownload_click(elem) {

            var path = $(elem).data('assigned-id');



            window.open('/Ex_CheckRequestDetails/GetReport?path1=' + path + '', "_blank");



        }
        $(document).ready(function () {

            var _basedwightlots = $("#basedwightlots").val();
            $("#grosslotweight").append(_basedwightlots);
            var _netwightlots = $("#netwightlots").val();
            $("#netlotweight").append(_netwightlots);

            $("#rejreasons").addClass("chosen-select").prop("multiple", true);

            $('#rejreasons_chosen option').prop('selected', true);


            $("#rejreasons option[value=]").remove();
            $("#rejreasons").chosen({
                // disable_search_threshold: 10,
                no_results_text: "@PlantQuar.WEB.Language.Resource_data1.no_results : ",
                placeholder_text_multiple: "@PlantQuar.WEB.Language.Resource_data1.Select_One_More",
                //placeholder_text_single: "ÍÏÏ @PlantQuar.WEB.Language.Resource_data1.Governate",
                width: "95%",
                rtl: true,
                search_contains: true,
            });

        });
        $("#btnSave").click(function () {
            $("#txtIsAccepted").val(true);
        });

        //$("#btnReject").click(function () {
        //    $("#txtIsAccepted").val(false);
        //    $("#submform").submit();
        //});
        $("#saverejectreason").click(function () {
            $("#txtIsAccepted").val(false);
            var list = $("#rejreasons").val();
          // console.log(list)
            var id = $(this).data("id");
            //var checkReqId = $("#checkReqId").val(); //alert(id)
            if (list != null) {

                $.post('/Export_CheckRequest/EX_CheckRequestDetails/saveReasons', { listIDs: list, checkReqId: id }, function (data, succ) {

                    $("#submform").submit();
                });
            } else {
                alert("choose reasons")
            }

        });
        // Eslam_Fill PopUp_Details For Item
         $(".quickview2").click(function () {


             var itemName = $(this).data("item");
             var qualitive = $(this).data("qualitive");
             var initiator = $(this).data("initiator");
             var itemsn = $(this).data("itemsn");
             //var gweight = $(this).data("gweight");
             //var nweight = $(this).data("nweight");

             var purpose = $(this).data("purpose");
             var status = $(this).data("status");
             var subpartname = $(this).data("subpartname");
             var unitcount = $(this).data("unitcount");
             var size = $(this).data("size");
             var ordertext = $(this).data("odrtxt");
             var fees = $(this).data("fees");
            //  alert("___itemcategorieslots__" + itemcategorieslots + "__ordertext___" + ordertext + "___scientificname__" + scientificname + "___unitcount__" + unitcount + "__subpartname___" + subpartname + "___status__" + status + "___purpose__" + purpose + "___pweight__" + pweight + "___packcount__" + packcount + "___ptype__" + ptype + "__pmatrial___" + pmatrial + "__constrain___" + constrain);

             $("#modaldetails").empty();
             @*$("#modaldetails").append("<label> @PlantQuar.WEB.Language.Resource_data1.itemName :<span class='modalspan'> " + itemName + "</span></label><br><label> @PlantQuar.WEB.Language.Resource_data1.QualitativeGroup :<span class='modalspan'> " + qualitive + "</span></label><br><label> @PlantQuar.WEB.Language.Resource_data1.InitiatorCountry :<span class='modalspan'> " + initiator + "</span></label><br><label>itemName :<span class='modalspan'> " + itemsn + "</span></label><br><label>TotalWeight :<span class='modalspan'> " + nweight + "</span></label><br><label> Weight :<span class='modalspan'> " + gweight + "</span></label><br><label> @PlantQuar.WEB.Language.Resource_data1.PackageMaterial :<span> " + pmatrial + "</span></label><br><label>PackageCount :<span class='modalspan'> " + packcount + "</span></label><br><label> @PlantQuar.WEB.Language.Resource_data1.PackageWeight :<span class='modalspan'> " + pweight + "</span></label><br><label>PackageType :<span class='modalspan'> " + ptype + "</span></label><br><label> @PlantQuar.WEB.Language.Resource_data1.Purpose :<span class='modalspan'> " + purpose + "</span></label><br><label>Status :<span class='modalspan'> " + status + "</span></label><br><label> @PlantQuar.WEB.Language.Resource_data1.Units_Number :<span class='modalspan'> " + unitcount + "</span></label><br><label>ScientificName :<span class='modalspan'> " + scientificname + "</span></label><br><label>order_text :<span class='modalspan'> " + ordertext + "</span></label><br><label> subpartname :<span class='modalspan'> " + subpartname + "</span></label><br><label> @PlantQuar.WEB.Language.Resource_data1.Fees :<span class='modalspan'> " + fees + "</span></label>")*@
             $("#modaldetails").append("<table id='popup'> <tbody><tr> <td>@PlantQuar.WEB.Language.Resource_data1.Product </td><td>" + itemName + "</td> <td>الاسم المختصر</td><td>" + itemsn + "</td></tr><tr> <td>@PlantQuar.WEB.Language.Resource_data1.InitiatorCountry </td><td>" + initiator + "</td> <td>subpartname </td><td>" + subpartname + "</td></tr><tr> <td>@PlantQuar.WEB.Language.Resource_data1.Purpose </td><td>" + purpose + "</td> <td>@PlantQuar.WEB.Language.Resource_data1.Status </td><td>" + status + "</td></tr><tr> <td>@PlantQuar.WEB.Language.Resource_data1.Units_Number </td><td>" + unitcount + "</td> <td>@PlantQuar.WEB.Language.Resource_data1.Fees</td><td>" + fees + "</td></tr><tr><td>  حجم الرسالة </td><td>" + size + "[م³]</td> <td>@PlantQuar.WEB.Language.Resource_data1.order_text </td><td>" + ordertext + "</td> </tr></tbody> </table>")

         });
            // Eslam_Fill PopUp_Details For lot
         $(".quickview1").click(function () {


             var netweight = $(this).data("netweight");
                 var grossweight = $(this).data("grossweight");
             var packagecount = $(this).data("packagecount");
             if (packagecount == null || packagecount == 0 || packagecount == '') {
                 packagecount = '#####'
             }
             var packageweight = $(this).data("packageweight");
             if (packageweight == null || packageweight == 0 || packageweight == '') {
                 packageweight = '#####'
             }
                      var number_wooden_package = $(this).data("number_wooden_package");
             if (number_wooden_package == null || number_wooden_package == 0 || number_wooden_package == '') {
                 number_wooden_package = '#####'
             }
             var ordertext = $(this).data("ordertext");
             if (ordertext == null || ordertext == 0 || ordertext == '') {
                 ordertext = '#####'
             }
             //var navigationalfluidnumber = $(this).data("navigationalfluidnumber");
             var packagetype = $(this).data("packagetype");
             if (packagetype == null || packagetype == 0 || packagetype == '') {
                 packagetype = '#####'
             }
             var reasonentry = $(this).data("reasonentry");
             if (reasonentry == null || reasonentry == 0 || reasonentry == '') {
                 reasonentry = '#####'
             }
             var size = $(this).data("size");
             if (size == null || size == 0 || size == '') {
                 size = '#####'
             }
             var basedweight = $(this).data("basedweight");
             var itemcat = $(this).data("itemcat");
             if (itemcat == null || itemcat == 0 || itemcat == '') {
                 itemcat = '#####'
             }
             var itemcatgroup = $(this).data("itemcatgroup");
             if (itemcatgroup == null || itemcatgroup == 0 || itemcatgroup == '') {
                 itemcatgroup = '#####'
             }
             var pckgematerial = $(this).data("pckgematerial");
             if (pckgematerial == null || pckgematerial == 0 || pckgematerial == '') {
                 pckgematerial = '#####'
             }
             var packagebasedweight = $(this).data("packagebasedweight");

             if (packagebasedweight == null || packagebasedweight == 0 || packagebasedweight == '')
             {
                 packagebasedweight = '#####'
             }
             var packagenetweight = $(this).data("packagenetweight");

             if (packagenetweight == null || packagenetweight == 0 || packagenetweight == '')
             {
                 packagenetweight = '#####'
             }
             var unitsnumber = $(this).data("unitsnumber");
             var subpartname = '';
             if (unitsnumber == null || unitsnumber == 0 || unitsnumber == '') {
                 unitsnumber = '#####'

             }
             else {
                    var subpartname = $(this).data("subpartname");
                 if (subpartname == null || subpartname == 0 || subpartname == '') {
                     subpartname = '#####'
                 }
             }

             var shipmentpolicynumber = $(this).data("shipmentpolicynumber");
             if (shipmentpolicynumber == null || shipmentpolicynumber == 0 || shipmentpolicynumber == '') {
                 shipmentpolicynumber = '#####'
             }
             var _grower_number = $(this).data("grower_number");
             if (_grower_number == null || _grower_number == 0 || _grower_number == '') {
                 _grower_number = '#####'
             }
             var recorded = $(this).data("recorded");
             if (recorded == null || recorded == 0 || recorded == '') {
                 recorded = '#####'
             }




             @**@

             $("#modaldetails").empty();
             //  $("#modaldetails").append("<table id='popup'><tr><td>@PlantQuar.WEB.Language.Resource_data1.PackageCount</td><td><span class='modalspan'> " + packagecount + "</span></td><td>سبب الدخول   </td><td><span class='modalspan'> " + reasonentry + "</span></td></tr><tr><td> @PlantQuar.WEB.Language.Resource_data1.PackageWeight</td><td><span class='modalspan'> " + packageweight + "</span><span class='red'>كجم</span></td><td>@PlantQuar.WEB.Language.Resource_data1.PackageType</td><td><span class='modalspan'> " + packagetype + "</span></td></tr><tr><td> @PlantQuar.WEB.Language.Resource_data1.PackageMaterial</td><td><span class='modalspan'> " + pckgematerial + "</span></td><td>@PlantQuar.WEB.Language.Resource_data1.PackageWeight</td><td><span class='modalspan'> " + packagebasedweight + "</span></td></tr><tr><td> @PlantQuar.WEB.Language.Resource_data1.Size</td><td><span class='modalspan'> " + size + "</span></td><td>@PlantQuar.WEB.Language.Resource_data1.order_text</td><td><span class='modalspan'> " + ordertext + "</span></td></tr><tr><td> @PlantQuar.WEB.Language.Resource_data1.ItemsCategoryGrp</td><td><span class='modalspan'> " + itemcatgroup + "</span></td><td>الرقم الملاحي</td><td><span class='modalspan'> " + navigationalfluidnumber + "</span></td></tr><tr><td>@PlantQuar.WEB.Language.Resource_data1.PackageNetWeight </td><td>" + packagenetweight + "</td><tr><td>@PlantQuar.WEB.Language.Resource_data1.Units_Number </td><td>" + unitsnumber + "</td><td>رقم بوليصة الشحن</td><td>" + shipmentpolicynumber + "</td></tr></tr></table>");
             $("#modaldetails").append("<table id='popup'><tr><td>@PlantQuar.WEB.Language.Resource_data1.PackageType</td><td><span class='modalspan'> " + packagetype + "</span></td><td> @PlantQuar.WEB.Language.Resource_data1.PackageMaterial</td><td><span class='modalspan'> " + pckgematerial + "</span></td></tr><tr><td>@PlantQuar.WEB.Language.Resource_data1.PackageCount</td><td><span class='modalspan'> " + packagecount + "</span><span class='red'>عبوة</span></td><td>الوزن القائم للعبوة</td><td><span class='modalspan'> " + packagebasedweight + "</span><span class='red'>كجم</span></td></tr><tr><td> الوزن الصافي للعبوة	</td><td><span class='modalspan'> " + packageweight + "</span><span class='red'>كجم</span></td><td>الوزن العبوة الفارغ	</td><td><span class='modalspan'> " + packagenetweight + "</span><span class='red'>كجم</span></td></tr><tr><td> الوزن الاجمالي للوط 	</td><td><span class='modalspan'> " + grossweight + "</span><span class='red'>كجم</span></td><td>الوزن الصافي للوط 	</td><td><span class='modalspan'> " + netweight + "</span><span class='red'>كجم</span></td></tr><tr><td>  عدد الوحدات </span></td><td>" + unitsnumber + "<span class='red'>"+subpartname+"</span></td><td>  حجم الرسالة </td> <td>" + size + "[م³]</td> </tr><tr><td>@PlantQuar.WEB.Language.Resource_data1.order_text</td><td><span class='modalspan'> " + ordertext + "</span></td><td>رقم بوليصة الشحن</td><td><span class='modalspan'>" + shipmentpolicynumber + "</span></td></tr><tr><td>سبب الدخول   </td><td><span class='modalspan'> " + reasonentry + "</span></td><td>رقم المزارع</td><td><span class='modalspan'> " + _grower_number + "</span></td></tr><tr><td>المجموعة الصنفية</td><td><span class='modalspan'> " + itemcatgroup + "</span></td><td>مسجل/غير مسجل</td><td><span class='modalspan'> " + recorded + "</span></td></tr><tr><td>الصنف الزراعي/السلالة</td><td><span class='modalspan'> " + itemcat + "</span></td><td>واحدت التعبئة الخشبية</td><td><span class='modalspan'> " + number_wooden_package + "</span></td></tr></table>");
               //  $("#modaldetails").append("<table><tr><td> @PlantQuar.WEB.Language.Resource_data1.LotNumber</td><td><span class='modalspan'> " + lotnumber + "</span></td><td>@PlantQuar.WEB.Language.Resource_data1.CategoryName</td><td><span class='modalspan'> " + categoryname + "</span></td></tr><tr><td> @PlantQuar.WEB.Language.Resource_data1.LotNumber</td><td><span class='modalspan'> " + lotnumber + "</span></td><td>@PlantQuar.WEB.Language.Resource_data1.CategoryName</td><td><span class='modalspan'> " + categoryname + "</span></td></tr><tr><td> @PlantQuar.WEB.Language.Resource_data1.LotNumber</td><td><span class='modalspan'> " + lotnumber + "</span></td><td>@PlantQuar.WEB.Language.Resource_data1.CategoryName</td><td><span class='modalspan'> " + categoryname + "</span></td></tr><tr><td> @PlantQuar.WEB.Language.Resource_data1.LotNumber</td><td><span class='modalspan'> " + lotnumber + "</span></td><td>@PlantQuar.WEB.Language.Resource_data1.CategoryName</td><td><span class='modalspan'> " + categoryname + "</span></td></tr><tr><td> @PlantQuar.WEB.Language.Resource_data1.LotNumber</td><td><span class='modalspan'> " + lotnumber + "</span></td><td>@PlantQuar.WEB.Language.Resource_data1.CategoryName</td><td><span class='modalspan'> " + categoryname + "</span></td></tr><tr><td> @PlantQuar.WEB.Language.Resource_data1.LotNumber</td><td><span class='modalspan'> " + lotnumber + "</span></td><td>@PlantQuar.WEB.Language.Resource_data1.CategoryName</td><td><span class='modalspan'> " + categoryname + "</span></td></tr></table>");

         });
                    //End Fill PopUp_Details For Item

                    // Fill SaveFees
        $('.savefees').click(function () {
            var id = $(this).data("id");
            console.log(id)
            var fees = $("#i_" + id).val();
            $.post('/Ex_CheckRequests/Ex_CheckRequestDetails/saveItemFees', { itemId: id, fees: fees }, function (data, succ) {
                alertify.success('تم نعديل الرسوم ')
            });

        });


        $('.Show_Imge').click(function () {

            var path = $(this).data('id');
            window.open('/Ex_CheckRequestDetails/GetReport?path1=' + path + '', "_blank");
            //var id = $(this).data("id");
            //alert(id)
            //var fees = $("#i_" + id).val();
            //$.post('/Ex_CheckRequests/Ex_CheckRequestDetails/saveItemFees', { itemId: id, fees: fees }, function (data, succ) {

            //});

        });
         // End_Fill SaveFees
        function printContent2(el2) {
            var restorepage2 = document.body.innerHTML;
            //var radioValue = $("input[name='openVisitor']:checked").val();
            //if (radioValue == 0) {
            //    $("#yes_radio").hide();
            //}
            //else {
            //    $("#no_radio").hide();
            //}
            $(".form-control").css("width", "25%");
            //$(".form-control").css("display", "inline-block");
            $(".nav-tabs").css("display", "none");
            $(".tab-pane").css("border", "2px solid black");
            $(".tab-pane").css("border-radius", "20px");
            var txt1 = "<h3 style='text-align:center'> @PlantQuar.WEB.Language.Resource_data1.requestInfos</h3>";
            $("#ReqDataTab").before(txt1);
            var txt2 = "<h3 style='text-align:center'>@PlantQuar.WEB.Language.Resource_data1.importedCompanies</h3>";
            $("#ImportCompaniiesTab").before(txt2);
            var txt3 = "<h3 style='text-align:center'>  @PlantQuar.WEB.Language.Resource_data1.messageDetails</h3>";
            $("#DetailsTab").before(txt3);
            var txt4 = "<h3 style='text-align:center'> @PlantQuar.WEB.Language.Resource_data1.Attachments</h3>";
            $("#filesTab").before(txt4);

            $(".form-rowr").css("margin-bottom", "7px");
            $(".form-rowr").css("padding-bottom", "7px");
            $(".form-box").css("margin-bottom", "7px");
            $(".form-box").css("padding-bottom", "7px");
            $(".form-rowr").css("border-bottom", "1px dashed #cbc5ba");
            $(".demo-default").css("width", "100%");
            //$(".label-info").css("text-decoration", "underline");
            $(".label-info").css("border", "1px solid #cbc5ba");
            $(".label-info").css("padding", "5px");
            $(".label-info").css("border-radius", "6px 20px");
            $(".lastdiv").css("border-bottom", "none")
            $("#ReqDataTab").removeAttr("class");
            $("#ReqDataTab").addClass("tab-pane fade active in");
            $("#ImportCompaniiesTab").removeAttr("class");
            $("#ImportCompaniiesTab").addClass("tab-pane fade active in");
            $("#DetailsTab").removeAttr("class");
            $("#DetailsTab").addClass("tab-pane fade active in");
            $("#filesTab").removeAttr("class");
            $("#filesTab").addClass("tab-pane fade active in");
            var printcontent2 = $('#' + el2).html();
            document.body.innerHTML = printcontent2;
            window.print();
            history.go(0);
            document.body.innerHTML = restorepage2;
        }
</script>

<script>




        jQuery('.qrcodeimport').qrcode("@Model.FirstOrDefault().EXCheckRequest_Number");



</script>
