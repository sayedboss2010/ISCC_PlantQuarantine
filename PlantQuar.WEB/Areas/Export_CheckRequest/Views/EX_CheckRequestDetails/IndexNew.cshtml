

@model List<PlantQuar.DTO.DTO.Export_CheckRequest.EXRequestDetailsDTO>
@using System.Linq;

@{
    ViewBag.Title = "";
    Layout = "~/Views/Shared/_LayoutPage1.cshtml";
    var indexx = 0;
    var x = 0;
}

<link href="~/Content/DataTables/css/jquery.dataTables.min.css" rel="stylesheet" />
<script src="~/scripts/DataTables/jquery.dataTables.min.js"></script>
<link href="~/Content/DataTables/css/dataTables.bootstrap.css" rel="stylesheet" />
<script src="~/Scripts/DataTables/dataTables.bootstrap.js"></script>

<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>



@using (Html.BeginForm("acceptRequest", "Ex_CheckRequestDetails", FormMethod.Post, new { @enctype = "multipart/form-data", @id = "submform" }))
{
    <div class="row">

        <div class="form-group col-sm-2 bmd-form-group pull-left">
            <label class="bmd-label-static">@PlantQuar.WEB.Language.Resource_data1.ExaminationRequestNumber</label>

        </div>
        <div class="col-md-4">
            @Html.TextBoxFor(m => m.FirstOrDefault().EXCheckRequest_Number, new { @class = "demo-default form-control", @readonly = "true" })

        </div>

        <div class="col-md-6" style="text-align:center">

            @if (Model.FirstOrDefault() != null)
            {

                if (Model.FirstOrDefault().IsAccepted == true)
                {
                    <div class="alert alert-success" role="alert">
                        <h3>تم قبول الطلب</h3>
                    </div>
                }
                if (Model.FirstOrDefault().IsAccepted == false)
                {
                    <div class="alert alert-danger" role="alert">
                        <h4>تم رفض الطلب</h4>
                        <h5>
                            @Model.FirstOrDefault().RefuseNotes;
                        </h5>
                    </div>
                    @*foreach (var item in Model.FirstOrDefault().List__CheckRequest_RefuseReasonDTO)
                        {
                            <br />
                            <span>@item.Refuse_Reason_Name</span>
                        }*@
                }
            }
        </div>

    </div>

    <br />
    <hr />
    @Html.HiddenFor(m => m.FirstOrDefault().Ex_CheckRequest_ID)
    <div class="tab" id="modall_content2" role="tabpanel" style="min-height:80% !important;">


        <ul class="nav nav-tabs" role="tablist" style="">
            <li role="presentation" class="active">
                <a href="#link1" aria-controls="profile" role="tab" data-toggle="tab">الجهة المصدرة</a>
            </li>
            <li role="presentation">
                <a href="#link3" aria-controls="profile" role="tab" data-toggle="tab">مسار الرسالة</a>
            </li>
            <li role="presentation">
                <a href="#link2" aria-controls="profile" role="tab" data-toggle="tab">بيانات الرسالة</a>
            </li>

            <li role="presentation">
                <a href="#link4" aria-controls="profile" role="tab" data-toggle="tab">الأشتراطات </a>
            </li>
            <li role="presentation">
                <a href="#link5" aria-controls="messages" role="tab" data-toggle="tab">مكان الفحص</a>
            </li>


            <li role="presentation">
                <a href="#link6" aria-controls="profile" role="tab" data-toggle="tab">مرفقات</a>
            </li>
            <li role="presentation">
                <a href="#link7" aria-controls="messages" role="tab" data-toggle="tab" id="id=" Fees_Details">النفقات</a>
            </li>
            @*   <li role="presentation">
                    <a href="#link8" aria-controls="messages" role="tab" data-toggle="tab">بيانات الاذون</a>
                </li>*@

        </ul>



        <div class="tab-content tabs" style="background-color:whitesmoke !important;">

            <div role="tabpanel" class="tab-pane fade in active" id="link1">
                <div class="form-group" style="padding:10px;">




                    <div class="row">
                        <div class="form-group col-sm-4 bmd-form-group">
                            <label class="bmd-label-static">نوع الجهة المصدرة</label>

                            @Html.TextBoxFor(m => m.FirstOrDefault().ImporterTypeName, new { @class = "demo-default form-control", @readonly = "true" })
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-sm-4 bmd-form-group">

                            <label class="bmd-label-static">الشركة المصدرة</label>
                            @*@Html.TextBoxFor(m => m.FirstOrDefault().Company_Data.Select(a => a.ImporterName), new { @class = "demo-default  form-control", @readonly = "true" })*@

                            @Html.TextBoxFor(m => m.FirstOrDefault().ImporterName, new { @class = "demo-default form-control", @readonly = "true" })
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-sm-4 bmd-form-group">

                            <label class="bmd-label-static">صاحب الشركة</label>
                            @*@Html.TextBoxFor(m => m.FirstOrDefault().Company_Data.Select(a => a.OwnerName), new { @class = "demo-default  form-control", @readonly = "true" })*@

                            @Html.TextBoxFor(m => m.FirstOrDefault().OwnerName, new { @class = "demo-default form-control", @readonly = "true" })
                        </div>
                        <div class="form-group col-sm-4 bmd-form-group">

                            <label class="bmd-label-static">عنوان الشركة</label>
                            @*@Html.TextBoxFor(m => m.FirstOrDefault().Company_Data.Select(a => a.ImporterAddress), new { @class = "demo-default  form-control", @readonly = "true" })
                                <label class="bmd-label-static">@Model.FirstOrDefault().ImporterAddress</label>*@
                            @Html.TextBoxFor(m => m.FirstOrDefault().ComponyAddress, new { @class = "demo-default form-control", @readonly = "true" })
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-sm-4 bmd-form-group">

                            <label class="bmd-label-static">مندوب صاحب الرسالة</label>
                            @*@Html.TextBoxFor(m => m.FirstOrDefault().Company_Data.Select(a => a.MessageOwner), new { @class = "demo-default  form-control", @readonly = "true" })*@

                            @Html.TextBoxFor(m => m.FirstOrDefault().MessageOwner, new { @class = "demo-default form-control", @readonly = "true" })
                        </div>
                        <div class="form-group col-sm-4 bmd-form-group">

                            <label class="bmd-label-static">الرقم القومي لمندوب صاحب الرسالة</label>
                            @*@Html.TextBoxFor(m => m.FirstOrDefault().Company_Data.Select(a => a.MessageOwnerNationalID), new { @class = "demo-d efault  form-control", @readonly = "true" })*@

                            @Html.TextBoxFor(m => m.FirstOrDefault().MessageOwnerNationalID, new { @class = "demo-default form-control", @readonly = "true" })
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 dataTables_wrapper form-inline dt-bootstrap">

                            <table id="farmsTable" class="table table-bordered table-striped dataTable" role="grid" style="margin: 15px;width: 97%;background-color: lightgray; ">
                                <tbody>
                                    <tr>
                                        <th>نوع النشاط</th>
                                        <th colspan="2"> رقم التسجيل</th>
                                        <th colspan="2">انواع التسجيل </th>
                                        <th colspan="2">التاريخ من </th>
                                        <th colspan="2">التاريخ الي </th>
                                    </tr>
                                    @if (Model.FirstOrDefault()._CompanyActivitys != null)
                                    {
                                        if (Model.FirstOrDefault()._CompanyActivitys.Count() > 0 || Model.FirstOrDefault()._CompanyActivitys.Count() != null)
                                        {
                                            for (int i = 0; i < @Model.FirstOrDefault()._CompanyActivitys.Count(); i++)
                                            {
                                                <tr>

                                                    <td>@Model.FirstOrDefault()._CompanyActivitys[i].CompActivityType__Name</td>
                                                    <td colspan="2">@Model.FirstOrDefault()._CompanyActivitys[i].Enrollment_Number</td>
                                                    @if (@Model.FirstOrDefault()._CompanyActivitys[i].Enrollment_type_Name != null)
                                                    {
                                                        <td colspan="2">@Model.FirstOrDefault()._CompanyActivitys[i].Enrollment_type_Name</td>
                                                    }
                                                    else
                                                    {
                                                        <td colspan="2">غير معروف</td>
                                                    }
                                                    <td colspan="2">@Model.FirstOrDefault()._CompanyActivitys[i].Enrollment_Start</td>
                                                    <td colspan="2">@Model.FirstOrDefault()._CompanyActivitys[i].Enrollment_End</td>
                                                </tr>
                                            }
                                        }
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="row">

                        <div class="col-md-12 dataTables_wrapper form-inline dt-bootstrap">
                            <table id="farmsTable" class="table table-bordered table-striped dataTable" role="grid" style="margin: 15px;width: 97%;background-color: lightgray; ">
                                <thead>
                                    <tr>
                                        <th>@PlantQuar.WEB.Language.Resource_data1.ContactType</th>
                                        <th>@PlantQuar.WEB.Language.Resource_data1.ContactData</th>

                                    </tr>
                                </thead>
                                <tbody>
                                    @if (Model.FirstOrDefault().ExportsContacts != null)
                                    {
                                        foreach (var item in Model.FirstOrDefault().ExportsContacts)
                                        {
                                            <tr>
                                                <td>@item.Name_Ar</td>
                                                <td>@item.Value</td>
                                            </tr>
                                        }
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div>

                </div>
            </div>

            <div role="tabpanel" class="tab-pane fade" id="link2">
                <div style="padding:10px;">
                    <div class="row">
                        <div class="col-md-12">
                            @if (Model.FirstOrDefault().Items_checkReqs != null)
                            {
                                <table class="table " style="border: 5px solid #1f6c6f !important;">

                                    <thead style="background-color:#4d9e97 !important;">



                                    </thead>
                                    <tbody>
                                        @for (int i = 0; i < Model.FirstOrDefault().Items_checkReqs.Count(); i++)
                                        {
                                            <tr style="background-color:#4d9e97 !important;">

                                                <th style="background: #94c5c7 !important; color: #ffffff !important;">نوع الكائن</th>
                                                <th style="background: #94c5c7 !important;    color: #ffffff !important;">أسم النبات</th>
                                                <th style="background: #94c5c7 !important;    color: #ffffff !important;">النوع(مجموعة نوعية/نبات)</th>
                                                <th style="background: #94c5c7 !important;    color: #ffffff !important;" colspan="2"> المنتج</th>
                                                <th style="background: #94c5c7 !important;    color: #ffffff !important;">الاسم العلمى</th>
                                                <th style="background: #94c5c7 !important;    color: #ffffff !important;">دولة المنشأ</th>
                                                <th style="background: #94c5c7 !important;    color: #ffffff !important;"> الوزن الإجمالي للنبات</th>
                                                <th style="background: #94c5c7 !important;    color: #ffffff !important;">الوزن الصافي للنبات</th>
                                                <th style="background: #94c5c7 !important;    color: #ffffff !important;">وزن اللوطات الإجمالي</th>
                                                <th style="background: #94c5c7 !important;    color: #ffffff !important;">وزن اللوطات الصافي</th>
                                                @*<th>الحالة</th>*@
                                                <th style="background: #94c5c7 !important;    color: #ffffff !important;">@PlantQuar.WEB.Language.Resource_data1.Details</th>

                                            </tr>
                                            <tr>

                                                <td>@Model.FirstOrDefault().Items_checkReqs[i].Item_Type_Name</td>
                                                <td>@Model.FirstOrDefault().Items_checkReqs[i].ItemName</td>
                                                <td>@Model.FirstOrDefault().Items_checkReqs[i].QualitativeGroup_Name_Ar</td>
                                                <td colspan="2">@Model.FirstOrDefault().Items_checkReqs[i].ItemShortNameAr</td>
                                                <td style="color:red ; font-style:italic; direction:ltr">@Model.FirstOrDefault().Items_checkReqs[i].Scientific_Name</td>
                                                @*<td>@Model.FirstOrDefault().Items_checkReqs[i].InitiatorCountry</td>*@
                                                <td>مصر</td>
                                                <td> @Math.Round(Convert.ToDouble(Model.FirstOrDefault().Items_checkReqs[i].GrossWeight), 3).ToString("0.000") <span class="red">كجم</span></td>
                                                <td>@Math.Round(Convert.ToDouble(Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots.Select(a => a.Net_Weight).Sum()), 3).ToString("0.000")<span class="red">كجم</span></td>
                                                <td>
                                                    <label id="_grosslotweight">
                                                        @Math.Round(Convert.ToDouble(Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots.Select(a => a.GrossWeight).Sum()), 3).ToString("0.000")

                                                    </label> <span class="red">كجم</span>


                                                </td>
                                                <td>
                                                    <label id="_netlotweight">
                                                        @Math.Round(Convert.ToDouble(Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots.Select(a => a.Net_Weight).Sum()), 3).ToString("0.000")

                                                    </label> <span class="red">كجم</span>
                                                </td>
                                                @*<td>@Model.FirstOrDefault().Items_checkReqs[i].Status</td>*@
                                                <td>
                                                    <button type='button' class='quickview2' style="height: auto;color: white;background-color: #1e7c80;border: 2px solid #1e8084;box-shadow: 0 4px #1d9fa5; outline: none; color: white;margin-top: 5px;" data-toggle='modal'
                                                            data-target='#mymodalemanexamination'
                                                            data-item="@Model.FirstOrDefault().Items_checkReqs[i].ItemName"
                                                            data-initiator="@Model.FirstOrDefault().Items_checkReqs[i].InitiatorCountry"
                                                            data-itemsn="@Model.FirstOrDefault().Items_checkReqs[i].ItemShortNameAr"
                                                            data-gweight="@Model.FirstOrDefault().Items_checkReqs[i].GrossWeight"
                                                            data-nweight="@Model.FirstOrDefault().Items_checkReqs[i].Net_Weight"
                                                            data-pmatrial="@Model.FirstOrDefault().Items_checkReqs[i].packageMaterial"
                                                            data-ptype="@Model.FirstOrDefault().Items_checkReqs[i].packageType"
                                                            data-packcount="@Model.FirstOrDefault().Items_checkReqs[i].Package_Count"
                                                            data-pweight="@Model.FirstOrDefault().Items_checkReqs[i].Package_Weight"
                                                            data-purpose="@Model.FirstOrDefault().Items_checkReqs[i].Purpose"
                                                            data-status="@Model.FirstOrDefault().Items_checkReqs[i].Status"
                                                            data-subpartname="@Model.FirstOrDefault().Items_checkReqs[i].subPartName"
                                                            data-unitcount="@Model.FirstOrDefault().Items_checkReqs[i].Units_Number"
                                                            data-scientificname="@Model.FirstOrDefault().Items_checkReqs[i].ScientificNameAr"
                                                            data-odrtxt="@Model.FirstOrDefault().Items_checkReqs[i].Order_TextItem"
                                                            data-size="@Model.FirstOrDefault().Items_checkReqs[i].Size"
                                                            data-fees="@Model.FirstOrDefault().Items_checkReqs[i].Fees"
                                                            data-itemcategoriesname="@Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_Name"
                                                            data-itemcategorycurrentstatus="@Model.FirstOrDefault().Items_checkReqs[i].CurrentStatus"
                                                            data-isregister="@Model.FirstOrDefault().Items_checkReqs[i].IsRegister"
                                                            data-itemcategoriesgroupname="@Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_Group_Name"
                                                            data-farmcode="@Model.FirstOrDefault().Items_checkReqs[i].FarmCode"
                                                            data-farmname="@Model.FirstOrDefault().Items_checkReqs[i].Farm_Name_Ar"
                                                            data-farmagriculturehand="@Model.FirstOrDefault().Items_checkReqs[i].Farm_Agriculture_Hand"
                                                            data-farmgovernname="@Model.FirstOrDefault().Items_checkReqs[i].Farm_Govern_Name"
                                                            data-farmcentername="@Model.FirstOrDefault().Items_checkReqs[i].Farm_Center_Name"
                                                            data-farmvillagename="@Model.FirstOrDefault().Items_checkReqs[i].Farm_Village_Name">

                                                        @PlantQuar.WEB.Language.Resource_data1.Details
                                                    </button>
                                                </td>

                                            </tr>

                                            <tr style="background-color: #94c5c7;">
                                                <td colspan="12">@PlantQuar.WEB.Language.Resource_data1.LotData</td>
                                            </tr>

                                            <tr style="background-color:#4d9e97 !important;">
                                                <th>رقم اللوط</th>
                                                <th>أسم الصنف</th>
                                                <th>وزن إجمالي</th>
                                                <th>وزن صافي</th>
                                                <th>عدد العبوات</th>
                                                <th>الوزن القائم للعبوة</th>
                                                <th>الوزن الصافي للعبوة</th>
                                                <th>الوزن العبوة الفارغ</th>
                                                <th>نوع العبوة</th>
                                                <th>واحدت التعبئة الخشبية</th>
                                                @*<th>رقم بوليصة الشحن</th>*@
                                                @*<th>رقم المزارع</th>*@
                                                <th colspan="2">@PlantQuar.WEB.Language.Resource_data1.Details</th>
                                            </tr>

                                            for (int m = 0; m < Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots.Count(); m++)
                                            {

                                                //  woddenCount += (decimal)Model.Items_checkReqs[i].ItemCategories_lots[m].Number_Wooden_Package;
                                                <tr>
                                                    <td>@Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].Lot_Number</td>
                                                    <td>@Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].ItemcategoryName</td>
                                                    <td>@Math.Round(Convert.ToDouble(Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].GrossWeight), 3).ToString("0.000")<span class="red">كجم</span></td>
                                                    <td>@Math.Round(Convert.ToDouble(Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].Net_Weight), 3).ToString("0.000") <span class="red">كجم</span></td>
                                                    <td>@Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].Package_Count</td>
                                                    <td>@Math.Round(Convert.ToDouble(Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].Package_Based_Weight), 3).ToString("0.000")<span class="red">كجم</span></td>
                                                    <td>@Math.Round(Convert.ToDouble(Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].Package_Net_Weight), 3).ToString("0.000") <span class="red">كجم</span></td>
                                                    <td>@Math.Round(Convert.ToDouble(Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].Package_Weight), 3).ToString("0.000") <span class="red">كجم</span></td>

                                                    <td>@Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].packageType</td>
                                                    <td>@Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].Number_Wooden_Package</td>
                                                    @*<td>@Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].Waybill</td>*@
                                                    @*<td>@Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].Grower_Number</td>*@
                                                    <td colspan="2">
                                                        @{
                                                            var _GrossWeight = @Math.Round(Convert.ToDouble(Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].GrossWeight), 3).ToString("0.000");
                                                            var Net_Weight = @Math.Round(Convert.ToDouble(Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].Net_Weight), 3).ToString("0.000");
                                                            var Package_Weight = @Math.Round(Convert.ToDouble(Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].Package_Weight), 3).ToString("0.000");
                                                            var Based_Weight = @Math.Round(Convert.ToDouble(Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].Based_Weight), 3).ToString("0.000");
                                                            var Package_Based_Weight = @Math.Round(Convert.ToDouble(Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].Package_Based_Weight), 3).ToString("0.000");
                                                            var Package_Net_Weight = @Math.Round(Convert.ToDouble(Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].Package_Net_Weight), 3).ToString("0.000");

                                                        }
                                                        <button type='button' class='quickview1' style="height: auto;color: white;background-color: #1e7c80;border: 2px solid #1e8084;box-shadow: 0 4px #1d9fa5; outline: none; color: white;margin-top: 5px;" data-toggle='modal' data-target='#mymodalemanexamination'
                                                                data-grossweight=@_GrossWeight
                                                                data-netweight=@Net_Weight
                                                                data-packagecount="@Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].Package_Count"
                                                                data-packageweight=@Package_Weight
                                                                data-ordertext="@Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].Order_TextLot"
                                                                data-recorded="@Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].RecordedOrNot"
                                                                data-packagetype="@Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].packageType"
                                                                data-reasonentry="@Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].Reason_Entry"
                                                                data-size="@Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].Size"
                                                                data-basedweight=@Based_Weight
                                                                data-pckgematerial="@Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].packageMaterialName"
                                                                data-packagebasedweight=@Package_Based_Weight
                                                                data-packagenetweight=@Package_Net_Weight
                                                                data-unitsnumber="@Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].Units_Number"
                                                                data-subpartname="@Model.FirstOrDefault().Items_checkReqs[i].subPartName"
                                                                data-itemcat="@Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].categoryName"
                                                                data-itemcatgroup="@Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].ItemCategoryGroup"
                                                                data-grower_number="@Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].Grower_Number"
                                                                data-number_wooden_package="@Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].Number_Wooden_Package"
                                                                data-shipmentpolicynumber="@Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots[m].Waybill">
                                                            @PlantQuar.WEB.Language.Resource_data1.Details
                                                        </button>
                                                    </td>
                                                </tr>

                                            }
                                            <tr>
                                                <td> <span class="red" style="font-size:15px">   اجمالي  </span></td>
                                                <td></td>
                                                <td>
                                                    <span class="red" style="font-size:13px">
                                                        @Math.Round(Convert.ToDouble(Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots.Select(a => a.GrossWeight).Sum()), 3).ToString("0.000")



                                                    </span> <span class="red">كجم</span>
                                                </td>

                                                <td><span class="red" style="font-size:13px">@Math.Round(Convert.ToDouble(Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots.Select(a => a.Net_Weight).Sum()), 3).ToString("0.000")  </span> <span class="red">كجم</span></td>
                                                <td><span class="red" style="font-size:13px"> @Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots.Select(a => a.Package_Count).Sum()  عبوة</span></td>

                                                <td><span class="red" style="font-size:13px">@Math.Round(Convert.ToDouble(Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots.Select(a => a.Package_Based_Weight).Sum()), 3).ToString("0.000") </span> <span class="red">كجم</span></td>
                                                <td><span class="red" style="font-size:13px">@Math.Round(Convert.ToDouble(Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots.Select(a => a.Package_Weight).Sum()), 3).ToString("0.000")  </span> <span class="red">كجم</span></td>
                                                <td><span class="red" style="font-size:13px">@Math.Round(Convert.ToDouble(Model.FirstOrDefault().Items_checkReqs[i].ItemCategories_lots.Select(a => a.Package_Net_Weight).Sum()), 3).ToString("0.000")  </span> <span class="red">كجم</span></td>
                                                <td></td>
                                                <td></td>
                                                <td colspan="2"></td>

                                            </tr>










                                        }
                                    </tbody>

                                </table>
                                <br />
                                <hr style="border-top: 1px solid #848484;" />
                                <br />
                            }



                        </div>
                    </div>


                    <div class="row">
                        <div class="col-md-12">
                            @*<table class="table " style="width:1850px">
                                    <thead style="background-color:#4d9e97 !important;">
                                        <tr>
                                            <th>م</th>
                                            <th>أسم النبات</th>
                                            <th>النوع(مجموعة نوعية/نبات)</th>
                                            <th>الاسم المختصر</th>
                                            <th>دولة المنشأ</th>
                                            <th>الوزن الإجمالي</th>
                                            <th>الوزن الصافي</th>
                                            <th>رقم اللوط</th>
                                            <th>أسم الصنف</th>
                                            <th>وزن إجمالي</th>
                                            <th>وزن صافي</th>
                                            <th>عدد العبوات</th>
                                            <th>وزن العبوات</th>
                                            <th>نوع العبوة</th>
                                            <th>مادة العبوة</th>
                                            <th>واحدت التعبئة الخشبية</th>
                                            <th>رقم بوليصة الشحن</th>
                                            <th>رقم المزارع</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                        </tr>
                                    </tbody>
                                </table>*@
                        </div>
                    </div>
                </div>
            </div>

            <div role="tabpanel" class="tab-pane fade" id="link3">


                <div class="row">
                    <div class="form-group col-sm-3 bmd-form-group">

                        @*<label class="bmd-label-static">الدولة المصدرة</label>*@
                        <label class="bmd-label-static">@PlantQuar.WEB.Language.Resource_data1.CountryExport</label>

                        <input class="form-control" value="مصر" readonly />

                    </div>


                    <div class="form-group col-sm-3 bmd-form-group">

                        <label class="bmd-label-static">نوع ميناء الشحن</label>
                        @Html.TextBoxFor(m => m.FirstOrDefault().ArrivePortType, new { @class = "demo-default  form-control", @readonly = "true" })

                    </div>
                    <div class="form-group col-sm-3 bmd-form-group">

                        <label class="bmd-label-static">ميناء الشحن</label>
                        @Html.TextBoxFor(m => m.FirstOrDefault().ArrivePortName, new { @class = "demo-default  form-control", @readonly = "true" })


                    </div>
                    <div class="form-group col-sm-3 bmd-form-group">

                        <label class="bmd-label-static">@PlantQuar.WEB.Language.Resource_data1.Governate</label>
                        @Html.TextBoxFor(m => m.FirstOrDefault().govNameAR, new { @class = "demo-default  form-control", @readonly = "true" })


                    </div>
                </div>

                @for (int i = 0; i < Model.FirstOrDefault().TransiteCountryList.Count(); i++)
                {
                    <div class="row">
                        <div class="form-group col-sm-3 bmd-form-group">

                            <label class="bmd-label-static">دولة العبور</label>
                            @Html.TextBoxFor(m => m.FirstOrDefault().TransiteCountryList[i].TransitCountry, new { @class = "demo-default  form-control", @readonly = "true" })

                        </div>

                        <div class="form-group col-sm-3 bmd-form-group">

                            <label class="bmd-label-static">نوع ميناء العبور</label>
                            @Html.TextBoxFor(m => m.FirstOrDefault().TransiteCountryList[i].TransitPortType, new { @class = "demo-default  form-control", @readonly = "true" })


                        </div>
                        <div class="form-group col-sm-3 bmd-form-group">

                            <label class="bmd-label-static">ميناء العبور</label>
                            @Html.TextBoxFor(m => m.FirstOrDefault().TransiteCountryList[i].TransitPortName, new { @class = "demo-default  form-control", @readonly = "true" })


                        </div>
                    </div>

                }


                @for (int i = 0; i < Model.FirstOrDefault().TransportCountryList.Count(); i++)
                {

                    <div class="row">
                        <div class="form-group col-sm-3 bmd-form-group">

                            <label class="bmd-label-static">دولة الوصول</label>
                            @Html.TextBoxFor(m => m.FirstOrDefault().ExportCountryName, new { @class = "demo-default  form-control", @readonly = "true" })
                        </div>
                        <div class="form-group col-sm-3 bmd-form-group">

                            <label class="bmd-label-static">نوع ميناء الوصول</label>
                            @Html.TextBoxFor(m => m.FirstOrDefault().TransportCountryList[i].TransportPortType, new { @class = "demo-default  form-control", @readonly = "true" })

                        </div>
                        <div class="form-group col-sm-3 bmd-form-group">

                            <label class="bmd-label-static">ميناء الوصول</label>
                            @Html.TextBoxFor(m => m.FirstOrDefault().TransportCountryList[i].TransportPortName, new { @class = "demo-default  form-control", @readonly = "true" })


                        </div>



                        <div class="row">
                            <div class="form-group col-sm-3 bmd-form-group">

                                <label class="bmd-label-static">طريقة النقل</label>
                                @Html.TextBoxFor(m => m.FirstOrDefault().Transport_MeanName, new { @class = "demo-default  form-control", @readonly = "true" })


                            </div>
                            <div class="form-group col-sm-3 bmd-form-group">

                                <label class="bmd-label-static">وسيلة الشحن</label>
                                @Html.TextBoxFor(m => m.FirstOrDefault().Shipment_MeanName, new { @class = "demo-default  form-control", @readonly = "true" })


                            </div>
                            <div class="form-group col-sm-3 bmd-form-group">

                                <label class="bmd-label-static">وسائل النقل الدولية</label>
                                @Html.TextBoxFor(m => m.FirstOrDefault().InternationalTransport, new { @class = "demo-default  form-control", @readonly = "true" })


                            </div>
                            <div class="form-group col-sm-3 bmd-form-group">

                                <label class="bmd-label-static">اسم وسيلة الشحن</label>
                                @Html.TextBoxFor(m => m.FirstOrDefault().Ship_Name, new { @class = "demo-default  form-control", @readonly = "true" })


                            </div>
                        </div>

                    </div>
                }
            </div>





            <div role="tabpanel" class="tab-pane fade" id="link4">
                <div style="min-height:400px;padding:10px;">
                    <div class="row">
                        <div class="col-md-12">
                            @foreach (var item in Model.FirstOrDefault().Ex_CountryConstrain)
                            {
                                <table class="table table-bordered" id="tblCheck_FixedFeesLst" style="margin:10px;margin-bottom: 35px;">
                                    <thead>
                                        <tr class="label-primary">
                                            <th style="text-align: center; background: #384621 !important; ">الدوله المستوردة</th>
                                            <th style="text-align: center; background: #384621 !important; "> دولة العبور</th>
                                            <th style="text-align: center; background: #384621 !important; "> النبات</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>@item.Import_Country_Name</td>
                                            <td>@Model.FirstOrDefault().TransiteCountryList.Select(a => a.TransitCountry).FirstOrDefault()</td>
                                            @*<td>@item.TransportCountry_ID</td>*@
                                            <td>@item.Item_Short_Name</td>

                                        </tr>
                                        <tr>
                                            <td colspan="3">
                                                <div class="col-md-12">
                                                    <div class="tab" role="tabpanel">
                                                        <!-- Nav tabs -->
                                                        <ul class="nav nav-tabs" role="tablist">
                                                            <li role="presentation" class="active">
                                                                <a data-id="1" href="'#textsTab_@item.ID" aria-controls="profile" role="tab"
                                                                   data-toggle="tab">@PlantQuar.WEB.Language.Resource_data1.AllText</a>
                                                            </li>
                                                            <li role="presentation">
                                                                <a data-id="2" href="#analysisTab_@item.ID" aria-controls="profile" role="tab" data-toggle="tab">@PlantQuar.WEB.Language.Resource_data1.Analysis</a>
                                                            </li>
                                                            <li role="presentation">
                                                                <a data-id="2" href="#treatmentab_@item.ID" aria-controls="profile" role="tab" data-toggle="tab">@PlantQuar.WEB.Language.Resource_data1.Treatments</a>
                                                            </li>
                                                            @*style="display:none"*@
                                                            <li role="presentation" id="port2">
                                                                <a data-id="2" href="#portstab_@item.ID" aria-controls="profile" role="tab" data-toggle="tab">@PlantQuar.WEB.Language.Resource_data1.Ports</a>
                                                            </li>

                                                        </ul>
                                                        <!-- Tab panes -->
                                                        <div class="tab-content tabs">
                                                            <div role="tabpanel" class="tab-pane fade in active" id="textsTab_@item.ID">
                                                                <div id="plantConstrainDiv" class="col-md-12"></div>
                                                                <div id="listFarm_Constrain_Text" class="row">
                                                                    <div class="col-md-12 dataTables_wrapper form-inline dt-bootstrap">
                                                                        <table id="Constrain_TextTable" class="table table-bordered table-striped dataTable" role="grid" style="padding:5px; width:100%">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th hidden>نوع الاشتراط </th>
                                                                                    <th hidden>عنوان الاشتراط </th>
                                                                                    <th>نص الاشتراط</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody id="myTable_Constrain_Text">
                                                                                @foreach (var item_Text in item.CountryConstrain_TextDTO)
                                                                                {
                                                                                    <tr>
                                                                                        <td hidden>@item_Text.Ar_Name_Constrain_Type</td>
                                                                                        <td hidden>@item_Text.ConstrainText_Ar</td>
                                                                                        <td>@item_Text.InSide_Certificate_Ar</td>
                                                                                    </tr>
                                                                                }

                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div role="tabpanel" class="tab-pane" id="analysisTab_@item.ID">
                                                                @*    <div id="plantConstrainDiv_Analysis" class="col-md-12"></div>*@
                                                                @*  *@
                                                                <div role="tabpanel" class="tab-pane fade in active" id="textsTab">
                                                                    <div id="plantConstrainDiv" class="col-md-12"></div>



                                                                    <div id="listFarm_Constrain_Text" class="row">
                                                                        <div class="col-md-12 dataTables_wrapper form-inline dt-bootstrap">
                                                                            <table id="AnalysisPart" class="table table-bordered table-striped dataTable" role="grid" style="padding:5px; width:100%">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th> @PlantQuar.WEB.Language.Resource_data1.AnaysisType </th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody id="Analysis_tbody">
                                                                                    @foreach (var item_AnalysisLabType in item.AnalysisLabType)
                                                                                    {
                                                                                        <tr>
                                                                                            <td>@item_AnalysisLabType.TypeName_Ar</td>
                                                                                        </tr>
                                                                                    }


                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                            </div>

                                                            <div role="tabpanel" class="tab-pane" id="treatmentab_@item.ID">
                                                                <div role="tabpanel" class="tab-pane fade in active" id="treatmentTab">
                                                                    <div id="Constrain_TreatmentDiv" class="col-md-12"></div>




                                                                    <div id="list_Constrain_Treatment" class="row">
                                                                        <div class="col-md-12 dataTables_wrapper form-inline dt-bootstrap">
                                                                            <table id="Treatment_table" class="table table-bordered table-striped dataTable" role="grid" style="padding:5px; width:100%">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th> @PlantQuar.WEB.Language.Resource_data1.TreatmentMainType </th>
                                                                                        <th> @PlantQuar.WEB.Language.Resource_data1.TreatmentType </th>
                                                                                        <th> @PlantQuar.WEB.Language.Resource_data1.TreatmentMethod </th>
                                                                                        <th>الحالة</th>
                                                                                        <th>الحالة المختارة فعليا</th>

                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody id="Treatment_tbody">
                                                                                    @foreach (var item_Constraint_Treatment in item.Constraint_Treatment)
                                                                                    {

                                                                                        <tr>
                                                                                            <td>@item_Constraint_Treatment.TreatmentMainType_Ar_Name</td>
                                                                                            <td>@item_Constraint_Treatment.TreatmentType_Ar_Name</td>
                                                                                            <td>@item_Constraint_Treatment.TreatmentMethod_Ar_Name</td>
                                                                                            @if (@item_Constraint_Treatment.IS_Optional == false)
                                                                                            {
                                                                                                <td>أختيارى</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>إجبارى</td>
                                                                                            }
                                                                                            <td>@item_Constraint_Treatment.Constrain_Treatment_Already_Choosen</td>
                                                                                            @*@if (@item_Constraint_Treatment.EX_Choose_Treatment_IS_Optional == false)
                                                                                                {
                                                                                                    <td>تم اختيار هذه المعالجة</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td></td>
                                                                                                }*@
                                                                                        </tr>

                                                                                    }
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                            </div>

                                                            <div role="tabpanel" class="tab-pane" id="portstab_@item.ID">
                                                                <div role="tabpanel" class="tab-pane fade in active" id="textsTab">
                                                                    <div id="plantConstrainDiv" class="col-md-12"></div>

                                                                    <div id="listFarm_Constrain_Text" class="row">
                                                                        <div class="col-md-12 dataTables_wrapper form-inline dt-bootstrap">
                                                                            <table id="ArrivalAirportPart" class="table table-bordered table-striped dataTable" role="grid" style="padding:5px; width:100%">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th> @PlantQuar.WEB.Language.Resource_data1.PortType </th>
                                                                                        <th>@PlantQuar.WEB.Language.Resource_data1.PortInternational </th>

                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody id="ArrivalAirportPart_tbody">
                                                                                    @foreach (var item_ConstraintAirPortInternational in item.ConstraintAirPortInternational)
                                                                                    {

                                                                                        <tr>
                                                                                            <td>@item_ConstraintAirPortInternational.AirPortName_Ar</td>
                                                                                            <td>@item_ConstraintAirPortInternational.CountryName_Ar</td>


                                                                                        </tr>

                                                                                    }
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                @*    <div id="plantConstrainDiv_ports" class="col-md-12"></div>*@
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>


                                    </tbody>
                                </table>


                            }
                        </div>
                    </div>

                </div>

                <div class="col-md-12" hidden>
                    <div class="tab" role="tabpanel">
                        <!-- Nav tabs -->
                        <ul class="nav nav-tabs" role="tablist">
                            <li role="presentation" class="active">
                                <a data-id="1" href="#textsTab" aria-controls="profile" role="tab"
                                   data-toggle="tab">@PlantQuar.WEB.Language.Resource_data1.AllText</a>
                            </li>
                            <li role="presentation">
                                <a data-id="2" href="#analysisTab" aria-controls="profile" role="tab" data-toggle="tab">@PlantQuar.WEB.Language.Resource_data1.Analysis</a>
                            </li>
                            <li role="presentation">
                                <a data-id="2" href="#treatmentab" aria-controls="profile" role="tab" data-toggle="tab">@PlantQuar.WEB.Language.Resource_data1.Treatments</a>
                            </li>
                            @*style="display:none"*@
                            <li role="presentation" id="port2">
                                <a data-id="2" href="#portstab" aria-controls="profile" role="tab" data-toggle="tab">@PlantQuar.WEB.Language.Resource_data1.Ports</a>
                            </li>

                        </ul>
                        <!-- Tab panes -->
                        <div class="tab-content tabs">
                            <div role="tabpanel" class="tab-pane fade in active" id="textsTab">
                                <div id="plantConstrainDiv" class="col-md-12"></div>



                                <div id="listFarm_Constrain_Text" class="row">
                                    <div class="col-md-12 dataTables_wrapper form-inline dt-bootstrap">
                                        @*<table id="Constrain_TextTable" class="table table-bordered table-striped dataTable" role="grid" style="padding:5px; width:100%">
                                                <thead>
                                                    <tr>
                                                        <th>نوع الاشتراط </th>
                                                        <th>عنوان الاشتراط </th>
                                                        <th>نص الاشتراط</th>


                                                    </tr>
                                                </thead>
                                                <tbody id="myTable_Constrain_Text">
                                                    @if (@Model.FirstOrDefault().Ex_CountryConstrain != null)
                                                    {
                                                        for (int j = 0; j < Model.FirstOrDefault().Items_checkReqs.Count(); j++)
                                                        {
                                                            for (int i = 0; i < @Model.FirstOrDefault().Ex_CountryConstrain[i].CountryConstrain_TextDTO.Count(); i++)
                                                            {
                                                                <tr>
                                                                    <td>@Model.FirstOrDefault().Ex_CountryConstrain[i].CountryConstrain_TextDTO[i].Ar_Name_Constrain_Type</td>
                                                                    <td>@Model.FirstOrDefault().Ex_CountryConstrain[i].CountryConstrain_TextDTO[i].ConstrainText_Ar</td>
                                                                    <td>@Model.FirstOrDefault().Ex_CountryConstrain[i].CountryConstrain_TextDTO[i].InSide_Certificate_Ar</td>

                                                                </tr>
                                                            }
                                                        }
                                                        }

                                                    </tbody>
                                            </table>*@
                                    </div>
                                </div>
                            </div>
                            <div role="tabpanel" class="tab-pane" id="analysisTab">
                                @*    <div id="plantConstrainDiv_Analysis" class="col-md-12"></div>*@
                                @*  *@
                                <div role="tabpanel" class="tab-pane fade in active" id="textsTab">
                                    <div id="plantConstrainDiv" class="col-md-12"></div>



                                    @*<div id="listFarm_Constrain_Text" class="row">
                                            <div class="col-md-12 dataTables_wrapper form-inline dt-bootstrap">
                                                <table id="AnalysisPart" class="table table-bordered table-striped dataTable" role="grid" style="padding:5px; width:100%">
                                                    <thead>
                                                        <tr>
                                                            <th> @PlantQuar.WEB.Language.Resource_data1.AnaysisType </th>


                                                        </tr>
                                                    </thead>
                                                    <tbody id="Analysis_tbody">
                                                        @if (@Model.FirstOrDefault().Ex_CountryConstrain != null)
                                                        {
                                                        for (int i = 0; i < @Model.FirstOrDefault().Ex_CountryConstrain.AnalysisLabType.Count(); i++)
                                                        {
                                                            <tr>
                                                                <td>@Model.FirstOrDefault().Ex_CountryConstrain.AnalysisLabType[i].TypeName_Ar</td>
                                                            </tr>
                                                        }
                                                        }
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>*@
                                </div>

                            </div>

                            <div role="tabpanel" class="tab-pane" id="treatmentab">
                                <div role="tabpanel" class="tab-pane fade in active" id="treatmentTab">
                                    <div id="Constrain_TreatmentDiv" class="col-md-12"></div>




                                    @*<div id="list_Constrain_Treatment" class="row">
                                            <div class="col-md-12 dataTables_wrapper form-inline dt-bootstrap">
                                                <table id="Treatment_table" class="table table-bordered table-striped dataTable" role="grid" style="padding:5px; width:100%">
                                                    <thead>
                                                        <tr>
                                                            <th> @PlantQuar.WEB.Language.Resource_data1.TreatmentMainType </th>
                                                            <th> @PlantQuar.WEB.Language.Resource_data1.TreatmentType </th>
                                                            <th> @PlantQuar.WEB.Language.Resource_data1.TreatmentMethod </th>
                                                            <th>الحالة</th>

                                                        </tr>
                                                    </thead>
                                                    <tbody id="Treatment_tbody">
                                                        @if (@Model.FirstOrDefault().Ex_CountryConstrain != null)
                                                        {
                                                        for (int i = 0; i < @Model.FirstOrDefault().Ex_CountryConstrain.Constraint_Treatment.Count(); i++)
                                                        {
                                                            <tr>
                                                                <td>@Model.FirstOrDefault().Ex_CountryConstrain.Constraint_Treatment[i].TreatmentMainType_Ar_Name</td>
                                                                <td>@Model.FirstOrDefault().Ex_CountryConstrain.Constraint_Treatment[i].TreatmentType_Ar_Name</td>
                                                                <td>@Model.FirstOrDefault().Ex_CountryConstrain.Constraint_Treatment[i].TreatmentMethod_Ar_Name</td>
                                                                <td>@Model.FirstOrDefault().Ex_CountryConstrain.Constraint_Treatment[i].IS_Optional</td>
                                                            </tr>
                                                        }
                                                        }
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>*@
                                </div>

                            </div>

                            <div role="tabpanel" class="tab-pane" id="portstab">
                                @*<div role="tabpanel" class="tab-pane fade in active" id="textsTab">
                                        <div id="plantConstrainDiv" class="col-md-12"></div>

                                        <div id="listFarm_Constrain_Text" class="row">
                                            <div class="col-md-12 dataTables_wrapper form-inline dt-bootstrap">
                                                <table id="ArrivalAirportPart" class="table table-bordered table-striped dataTable" role="grid" style="padding:5px; width:100%">
                                                    <thead>
                                                        <tr>
                                                            <th> @PlantQuar.WEB.Language.Resource_data1.PortType </th>
                                                            <th>@PlantQuar.WEB.Language.Resource_data1.PortInternational </th>

                                                        </tr>
                                                    </thead>
                                                    <tbody id="ArrivalAirportPart_tbody">
                                                        @if (@Model.FirstOrDefault().Ex_CountryConstrain != null)
                                                        {
                                                            for (int i = 0; i < @Model.FirstOrDefault().Ex_CountryConstrain.ConstraintAirPortInternational.Count(); i++)
                                                            {
                                                            <tr>
                                                                <td>@Model.FirstOrDefault().Ex_CountryConstrain.ConstraintAirPortInternational[i].AirPortName_Ar</td>
                                                                <td>@Model.FirstOrDefault().Ex_CountryConstrain.ConstraintAirPortInternational[i].CountryName_Ar</td>


                                                            </tr>
                                                            }
                                                        }
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>*@

                                @*    <div id="plantConstrainDiv_ports" class="col-md-12"></div>*@
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div role="tabpanel" class="tab-pane fade" id="link5">
                <label class="label-info" style="margin-right:10px;">مكان الفحص  </label>

                <br />
                <br />

                @if (@Model.LastOrDefault().Station_Examination != null && @Model.LastOrDefault().Station_Examination != "")
                {
                    <div class="col-md-12">
                        <div class="col-md-2">
                            <label class="bmd-label-static">@PlantQuar.WEB.Language.Resource_data1.Station</label>
                        </div>
                        <div class="col-md-4">
                            @Html.TextBoxFor(m => m.LastOrDefault().Station_Examination, new { @class = "demo-default form-control", @readonly = "true" })
                        </div>
                        <div class="col-md-2">
                            <label class="bmd-label-static">@PlantQuar.WEB.Language.Resource_data1.stationCode</label>
                        </div>
                        <div class="col-md-4">
                            @Html.TextBoxFor(m => m.LastOrDefault().Station_Examination_Code, new { @class = "demo-default form-control", @readonly = "true" })
                        </div>
                    </div>
                    <br /><br />
                    <div class="col-md-12">
                        <div class="col-md-2">
                            <label class="bmd-label-static">مسمى الاعتماد</label>
                        </div>
                        <div class="col-md-4">
                            @Html.TextBoxFor(m => m.LastOrDefault().Station_Accreditation_Name, new { @class = "demo-default form-control", @readonly = "true" })
                        </div>
                        <div class="col-md-2">
                            <label class="bmd-label-static">نوع النشاط</label>
                        </div>
                        <div class="col-md-4">
                            @Html.TextBoxFor(m => m.LastOrDefault().Station_Activity_Type_Name, new { @class = "demo-default form-control", @readonly = "true" })
                        </div>

                    </div>
                    <br /> <br />
                    <div class="col-md-12">
                        <div class="col-md-2">
                            <label class="bmd-label-static">تاريخ بداية الأعتماد</label>
                        </div>
                        <div class="col-md-4">
                            @Html.TextBoxFor(m => m.LastOrDefault().Station_Accreditation_StartDate, "{0:yyyy-MM-dd}", new { @class = "demo-default form-control", @readonly = "true" })
                        </div>
                        <div class="col-md-2">
                            <label class="bmd-label-static">تاريخ نهاية الأعتماد</label>
                        </div>
                        <div class="col-md-4">
                            @Html.TextBoxFor(m => m.LastOrDefault().Station_Accreditation_EndDate, "{0:yyyy-MM-dd}", new { @class = "demo-default form-control", @readonly = "true" })
                        </div>

                    </div>
                    <br /> <br />
                    <div class="col-md-12">
                        <div class="col-md-2">
                            <label class="bmd-label-static">الحالة</label>
                        </div>
                        <div class="col-md-4">

                            @if (@Model.LastOrDefault().Station_Accreditation_IsActive == true)
                            {<input type="text" readonly class="demo-default form-control" id="Station_Accreditation_IsActive" value="يعمل" />}
                            @*@else*@
                            @if (@Model.LastOrDefault().Station_Accreditation_IsActive == false)
                            {<input type="text" readonly class="demo-default form-control" id="Station_Accreditation_IsActive" value="موقوف" />}

                            @*@Html.TextBoxFor(m => m.FirstOrDefault().Station_Accreditation_IsActive, new { @class = "demo-default form-control", @readonly = "true" })*@
                        </div>


                    </div>
                    <br /> <br />
                }
                else
                {
                    <div class="row" style="margin-right:10px;">
                        <div class="col-md-1">

                            <label class="bmd-label-static">@PlantQuar.WEB.Language.Resource_data1.Governate</label>
                        </div>
                        <div class="col-md-3">
                            @Html.TextBoxFor(m => m.FirstOrDefault().GovernateName, new { @class = "demo-default form-control", @readonly = "true" })

                        </div>

                        <div class="col-md-1">
                            <label class="bmd-label-static">@PlantQuar.WEB.Language.Resource_data1.Center</label>

                        </div>
                        <div class="col-md-3">
                            @Html.TextBoxFor(m => m.FirstOrDefault().CenterName, new { @class = "demo-default form-control", @readonly = "true" })

                        </div>
                        <div class="col-md-1">
                            <label class="bmd-label-static">@PlantQuar.WEB.Language.Resource_data1.placeAddress</label>

                        </div>
                        <div class="col-md-3">
                            @Html.TextBoxFor(m => m.FirstOrDefault().Ex_CheckRequest_Examination_location, new { @class = "demo-default form-control", @readonly = "true" })

                        </div>
                    </div>


                }



                <br />
                <br />
                <label class="label-info" style="margin-right:10px;">مكان الجشني  </label>
                <br />
                <br />
                <div class="row" style="margin-right:10px;">

                    <div class=" row col-md-12">


                        @if (@Model.FirstOrDefault().Station_Genshi_ID != null && @Model.FirstOrDefault().Station_Genshi_ID != "")
                        {
                            <div class="col-md-1">
                                <label class="bmd-label-static">@PlantQuar.WEB.Language.Resource_data1.Station</label>
                            </div>
                            <div class="col-md-3">
                                @Html.TextBoxFor(m => m.FirstOrDefault().Station_Genshi_ID, new { @class = "demo-default form-control", @readonly = "true" })
                            </div>
                        }
                        else
                        { <div class="col-md-1">
                                <label class="bmd-label-static">@PlantQuar.WEB.Language.Resource_data1.Port</label>

                            </div>
                            <div class="col-md-3">
                                @Html.TextBoxFor(m => m.FirstOrDefault().PortName, new { @class = "demo-default form-control", @readonly = "true" })

                            </div>

                        }

                    </div>

                </div>


            </div>

            <div role="tabpanel" class="tab-pane fade" id="link6">
                <div class="row">
                    <div class="col-md-12">
                        <table class="table">
                            <thead style="background-color:#4d9e97 !important;">
                                <tr>
                                    <th>نوع المرفق</th>
                                    <th>اسم المرفق</th>
                                    <th>@PlantQuar.WEB.Language.Resource_data1.AttachmentNumber</th>
                                    <th>@PlantQuar.WEB.Language.Resource_data1.DateStart</th>
                                    <th>@PlantQuar.WEB.Language.Resource_data1.ExpireDate</th>
                                    <th>@PlantQuar.WEB.Language.Resource_data1.Attachment</th>
                                </tr>
                            </thead>
                            <tbody>
                                @if (Model.FirstOrDefault().Attachments != null)
                                {
                                    for (int i = 0; i < Model.FirstOrDefault().Attachments.Count(); i++)
                                    {
                                        <tr>
                                            <td class="ModelxmlItem_Data@(i)">
                                                @Model.FirstOrDefault().Attachments[i].Attachment_Name
                                            </td>
                                            <td class="ModelxmlItem_Data@(i)">
                                                @Model.FirstOrDefault().Attachments[i].Attachment_TypeName
                                            </td>
                                            <td class="ModelxmlItem_Data@(i)">
                                                @Model.FirstOrDefault().Attachments[i].Attachment_Number
                                            </td>

                                            @if (@Model.FirstOrDefault().Attachments[i].StartDate != null)
                                            {
                                                <td class="ModelxmlItem_Data@(i)">@Model.FirstOrDefault().Attachments[i].StartDate.Value.ToString("dd/MM/yyyy")</td>

                                            }
                                            else
                                            {
                                                <td class="ModelxmlItem_Data@(i)"></td>
                                            }
                                            @if (@Model.FirstOrDefault().Attachments[i].EndDate != null)
                                            {
                                                <td class="ModelxmlItem_Data@(i)">@Model.FirstOrDefault().Attachments[i].EndDate.Value.ToString("dd/MM/yyyy")</td>

                                            }
                                            else
                                            {
                                                <td class="ModelxmlItem_Data@(i)"></td>
                                            }

                                            <td class="ModelxmlItem_Data@(i)">


                                                <input type="button" value="تحميل الملف" class="btn btn - info" onclick="btndownload_click(this)" data-assigned-id=@Model.FirstOrDefault().Attachments[i].AttachmentPath />

                                                @*<input type="button" class="Show_Imge" data-id="@Model.Attachments[i].AttachmentPath" value="عرض الصورة" />*@
                                                @*<button id="prdsgfsdgfr" onclick=btndownload_click(this) data-assigned-id=@Model.Attachments[i].AttachmentPath>File</button>
                                                    <a href="././.@Model.Attachments[i].AttachmentPath">File</a>*@
                                            </td>
                                        </tr>
                                    }
                                }


                            </tbody>
                        </table>
                    </div>
                </div>

            </div>


            <div role="tabpanel" class="tab-pane fade" id="link7">
                <div class="row">
                    <div class="col-md-12">
                        <label class="label-info">رســــوم ثــابتة</label>
                        <br>
                        <table class="table table-bordered" id="tblCheck_FixedFeesLst" style="margin:10px;">
                            <thead>
                                <tr class="label-primary">
                                    <th style="text-align:center;">الرســم</th>
                                    <th style="text-align:center;">القيمـة</th>
                                    <th style="text-align:center;">الدفع</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        رسوم طلب فحص
                                    </td>
                                    <td>
                                        10.00
                                    </td>
                                    <td>

                                        @if (@Model.FirstOrDefault().IsPaid == true)
                                        {
                                            <span>تم الدفع</span>
                                        }
                                        else
                                        {
                                            <span>لم يتم الدفع</span>
                                        }
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                        @if (Model.FirstOrDefault().List_Fees_Martyrs.Count() > 0)
                        {
                            <label class="label-info">رســــوم الشهداء</label>

                            <table class="table table-bordered" id="tblCheck_FixedFeesLst" style="margin:10px;">
                                <thead>
                                    <tr class="label-primary">
                                        <th style="text-align:center;">الرســم</th>
                                        <th style="text-align:center;">القيمـة</th>
                                        <th style="text-align:center;">الدفع</th>
                                    </tr>
                                </thead>
                                <tbody>

                                    @for (int i = 0; i < Model.FirstOrDefault().List_Fees_Martyrs.Count; i++)
                                    {

                                        <tr>
                                            <td>
                                                @Model.FirstOrDefault().List_Fees_Martyrs[i].Name_Ar
                                            </td>
                                            <td>
                                                @Model.FirstOrDefault().List_Fees_Martyrs[i].Total_Amount
                                            </td>
                                            <td>

                                                @if (@Model.FirstOrDefault().IsPaid == true)
                                                {
                                                    <span>تم الدفع</span>
                                                }
                                                else
                                                {
                                                    <span>لم يتم الدفع</span>
                                                }
                                            </td>

                                        </tr>
                                    }

                                </tbody>
                            </table>

                        }
                        <label class="label-info">رســــوم المنتجات</label>


                        <br>
                        <table class="table table-bordered" id="tblCheck_FixedFeesLst" style="margin:10px;">
                            <thead>
                                <tr class="label-primary">
                                    <th style="text-align:center;">أسم المنتج</th>
                                    <th style="text-align:center;">المسمي المختصر</th>
                                    <th style="text-align:center;">الوزن   الأجمالى للوطات ( الطن )</th>
                                    <th style="text-align:center;">القيمـة</th>
                                    <th style="text-align:center;">الدفع</th>
                                </tr>
                            </thead>
                            <tbody>
                                @if (Model.FirstOrDefault().Fees_Item_All.Count() > 0)
                                {
                                    for (int i = 0; i < Model.FirstOrDefault().Fees_Item_All.Count; i++)
                                    {
                                        <tr>
                                            <td>
                                                @Model.FirstOrDefault().Fees_Item_All[i].ItemName
                                            </td>
                                            <td>
                                                @Model.FirstOrDefault().Fees_Item_All[i].ItemShortName
                                            </td>
                                            <td>
                                                @*@Model.FirstOrDefault().Fees_Item_All[i].Net_Weight*@
                                                @Math.Round(Convert.ToDouble(Model.FirstOrDefault().Fees_Item_All[i].GrossWeight), 3).ToString("0.000")
                                                @*@Math.Round(Convert.ToDouble(Model.FirstOrDefault().Items_checkReqs[i].GrossWeight), 3).ToString("0.000")*@
                                            </td>
                                            <td>
                                                @*@Math.Round(Convert.ToDouble(Model.FirstOrDefault().Fees_Item_All[i].Fees), 2).ToString("0.00")*@
                                            </td>
                                            <td>
                                                @*@if (@Model.FirstOrDefault().IsPaid == true)
                                                    {
                                                        <span>تم الدفع</span>
                                                    }
                                                    else
                                                    {
                                                        <span>لم يتم الدفع</span>
                                                    }*@
                                            </td>
                                        </tr>
                                    }
                                }
                            </tbody>
                            <tfoot>
                                <tr>
                                    <td colspan="2" style="text-align:center;">الاجمالى</td>
                                    <td>@Math.Round(Convert.ToDouble(Model.FirstOrDefault().Fees_Item_All.Sum(a => a.GrossWeight).Value), 2).ToString("0.00")</td>
                                    <td>@Math.Round(Convert.ToDouble(Model.FirstOrDefault().Fees_Item_All.Sum(a => a.Fees).Value), 2).ToString("0.00")</td>
                                    <td>
                                        @if (Model.FirstOrDefault().IsPaid == true)
                                        {
                                            <span>تم الدفع</span>

                                        }
                                        else
                                        {
                                            <span>لم يتم الدفع</span>
                                        }
                                    </td>
                                </tr>
                            </tfoot>
                        </table>

                        <br>
                        @if (Model.FirstOrDefault().List_Shift != null)
                        {
                            <label class="label-info">رســــوم النوبتجية</label>

                            <table border="1" class="table table-bordered" id="Tab">
                                <thead>
                                    <tr>
                                        <th style="text-align:center;">م</th>
                                        <th style="text-align:center;">أسم النوبتجية</th>
                                        <th style="text-align:center;">نوع اللجنة</th>
                                        <th style="text-align:center;">تاريخ اللجنة </th>
                                        <th style="text-align:center;">من</th>
                                        <th style="text-align:center;">الي</th>
                                        <th style="text-align:center;">تكلفة سعر النوبتجية</th>
                                        <th style="text-align:center;">عدد النوبتجية</th>
                                        <th style="text-align:center;">اجمالي سعر النوبتجية</th>
                                        <th style="text-align:center;">حالة الدفع</th>
                                    </tr>
                                </thead>


                                @if (Model.FirstOrDefault().List_Shift.Count() > 0)
                                {

                                    bool resdate = false;
                                    int ROWNUMBER = 1;
                                    decimal total = 0;

                                    foreach (var item in Model.FirstOrDefault().List_Shift)
                                    {
                                        //if (item.Delegation_Date.Value.Year == DateTime.Now.Year && item.Delegation_Date.Value.Month == DateTime.Now.Month)
                                        //{
                                        //    if (item.Delegation_Date.Value.Day < DateTime.Now.Day)
                                        //    {
                                        //        resdate = true;
                                        //    }


                                        //}
                                        //else if (item.Delegation_Date.Value.Year == DateTime.Now.Year && item.Delegation_Date.Value.Month < DateTime.Now.Month)
                                        //{

                                        //    resdate = true;

                                        //}
                                        //else if (item.Delegation_Date.Value.Year == DateTime.Now.Year && item.Delegation_Date.Value.Month > DateTime.Now.Month)
                                        //{

                                        //    resdate = false;

                                        //}
                                        //else if (item.Delegation_Date.Value.Year > DateTime.Now.Year)
                                        //{
                                        //    resdate = true;
                                        //}

                                        //else if (item.Delegation_Date.Value.Year < DateTime.Now.Year)
                                        //{
                                        //    resdate = false;
                                        //}

                                        decimal Shift_Count = item.Shift_Count.Value;

                                        decimal z = item.Shift_Amount.Value;
                                        decimal y = Shift_Count * z;
                                        var totalrow = Math.Truncate(y);
                                        var num = Math.Truncate(item.Shift_Amount.Value);
                                        if (item.CommitteeType_ID == 1 || item.CommitteeType_ID == 2)
                                        {
                                            <tbody style="border-bottom:solid 1px;">
                                                @*<tr class="background-whitesmoke">
                                                        <td class="text-center padd-10">@ROWNUMBER</td>
                                                        <td class="text-center padd-10">@item.ShiftTimingName</td>
                                                        <td class="text-center padd-10">@item.Name_Ar</td>
                                                        <td class="text-center padd-10">@item.Delegationdate</td>
                                                        <td class="text-center padd-10">@item.ShiftTiming_From</td>
                                                        <td class="text-center padd-10">@item.ShiftTiming_To</td>
                                                        <td class="text-center padd-10">@num</td>
                                                        <td class="text-center padd-10">@item.NOofCount</td>
                                                        <td class="text-center padd-10">@totalrow</td>

                                                    </tr>*@
                                                <tr>
                                                    <td class="text-center padd-10">@ROWNUMBER</td>
                                                    <td class="text-center padd-10">@item.Shift_Name</td>
                                                    <td class="text-center padd-10">@item.CommitteTypeName</td>
                                                    <td class="text-center padd-10">@item.Delegation_Date</td>
                                                    <td class="text-center padd-10">@item.StartTime</td>
                                                    <td class="text-center padd-10">@item.EndTime</td>
                                                    <td class="text-center padd-10">@num</td>
                                                    <td class="text-center padd-10">@item.Shift_Count</td>
                                                    <td class="text-center padd-10">@totalrow</td>
                                                    <td class="text-center padd-10">@item.IsPaidCommitteeCondition</td>
                                                    @*@if (item.IsPaidCommittee == true)
                                                        {
                                                            <td class="text-center padd-10"> تم الدفع </td>
                                                        }
                                                        else
                                                        {
                                                            <td class="text-center padd-10"> لم يتم الدفع </td>
                                                        }*@
                                                </tr>

                                            </tbody>



                                            ROWNUMBER++;
                                            total += y;
                                        }
                                        @*else if (resdate == true && (item.CommitteeType_ID == 1 || item.CommitteeType_ID == 2) && item.IsFinishedAll == true)
                                            {
                                                <tbody style="border-bottom:solid 1px;">
                                                    @if (item.IsPaidCommittee == true)
                                                    {
                                                        <tr>
                                                            <td class="text-center padd-10">@ROWNUMBER</td>
                                                            <td class="text-center padd-10">@item.Shift_Name</td>
                                                            <td class="text-center padd-10">@item.CommitteTypeName</td>
                                                            <td class="text-center padd-10">@item.Delegation_Date</td>
                                                            <td class="text-center padd-10">@item.StartTime</td>
                                                            <td class="text-center padd-10">@item.EndTime</td>
                                                            <td class="text-center padd-10">@num</td>
                                                            <td class="text-center padd-10">@item.Shift_Count</td>
                                                            <td class="text-center padd-10">@totalrow</td>
                                                            @if (item.IsPaidCommittee == true)
                                                            {
                                                                <td class="text-center padd-10"> تم الدفع </td>
                                                            }
                                                            else
                                                            {
                                                                <td class="text-center padd-10"> لم يتم الدفع </td>
                                                            }
                                                        </tr>

                                                    }
                                                    else
                                                    {
                                                <tr>
                                                    <td class="text-center padd-10">@ROWNUMBER</td>
                                                    <td class="text-center padd-10">@item.Shift_Name</td>
                                                    <td class="text-center padd-10">@item.CommitteTypeName</td>
                                                    <td class="text-center padd-10">@item.Delegation_Date</td>
                                                    <td class="text-center padd-10">@item.StartTime</td>
                                                    <td class="text-center padd-10">@item.EndTime</td>
                                                    <td class="text-center padd-10">@num</td>
                                                    <td class="text-center padd-10">@item.Shift_Count</td>
                                                    <td class="text-center padd-10">@totalrow</td>
                                                    @if (item.IsPaidCommittee == true)
                                                    {
                                                        <td class="text-center padd-10"> تم الدفع </td>
                                                    }
                                                    else
                                                    {
                                                        <td class="text-center padd-10"> لم يتم الدفع </td>
                                                    }
                                                </tr>
                                                    }


                                                </tbody>



                                                ROWNUMBER++;
                                                total += y;
                                            }
                                            else if (resdate == true && (item.CommitteeType_ID == 1 || item.CommitteeType_ID == 2) && item.IsFinishedAll == null)
                                            {
                                                <tbody style="border-bottom:solid 1px;">
                                                    @if (item.IsPaidCommittee == true)
                                                    {
                                                        <tr>
                                                            <td class="text-center padd-10">@ROWNUMBER</td>
                                                            <td class="text-center padd-10">@item.Shift_Name</td>
                                                            <td class="text-center padd-10">@item.CommitteTypeName</td>
                                                            <td class="text-center padd-10">@item.Delegation_Date</td>
                                                            <td class="text-center padd-10">@item.StartTime</td>
                                                            <td class="text-center padd-10">@item.EndTime</td>
                                                            <td class="text-center padd-10">@num</td>
                                                            <td class="text-center padd-10">@item.Shift_Count</td>
                                                            <td class="text-center padd-10">@totalrow</td>
                                                            @if (item.IsPaidCommittee == true)
                                                            {
                                                                <td class="text-center padd-10"> تم الدفع </td>
                                                            }
                                                            else
                                                            {
                                                                <td class="text-center padd-10"> لم يتم الدفع </td>
                                                            }
                                                        </tr>

                                                    }
                                                    else
                                                    {
                                                <tr>
                                                    <td class="text-center padd-10">@ROWNUMBER</td>
                                                    <td class="text-center padd-10">@item.Shift_Name</td>
                                                    <td class="text-center padd-10">@item.CommitteTypeName</td>
                                                    <td class="text-center padd-10">@item.Delegation_Date</td>
                                                    <td class="text-center padd-10">@item.StartTime</td>
                                                    <td class="text-center padd-10">@item.EndTime</td>
                                                    <td class="text-center padd-10">@num</td>
                                                    <td class="text-center padd-10">@item.Shift_Count</td>
                                                    <td class="text-center padd-10">@totalrow</td>
                                                    @if (item.IsPaidCommittee == true)
                                                    {
                                                        <td class="text-center padd-10"> تم الدفع </td>
                                                    }
                                                    else
                                                    {
                                                        <td class="text-center padd-10"> لم يتم الدفع </td>
                                                    }
                                                </tr>
                                                    }


                                                </tbody>



                                                ROWNUMBER++;
                                                total += y;
                                            }
                                            else if (resdate == true && (item.CommitteeType_ID == 1 || item.CommitteeType_ID == 2) && item.IsFinishedAll == false)
                                            {
                                                <tbody style="border-bottom:solid 1px;">
                                                    @if (item.IsPaidCommittee == true)
                                                    {
                                                        <tr>
                                                            <td class="text-center padd-10">@ROWNUMBER</td>
                                                            <td class="text-center padd-10">@item.Shift_Name</td>
                                                            <td class="text-center padd-10">@item.CommitteTypeName</td>
                                                            <td class="text-center padd-10">@item.Delegation_Date</td>
                                                            <td class="text-center padd-10">@item.StartTime</td>
                                                            <td class="text-center padd-10">@item.EndTime</td>
                                                            <td class="text-center padd-10">@num</td>
                                                            <td class="text-center padd-10">@item.Shift_Count</td>
                                                            <td class="text-center padd-10">@totalrow</td>
                                                            @if (item.IsPaidCommittee == true)
                                                            {
                                                                <td class="text-center padd-10"> تم الدفع </td>
                                                            }
                                                            else
                                                            {
                                                                <td class="text-center padd-10"> لم يتم الدفع </td>
                                                            }
                                                        </tr>

                                                    }
                                                    else if (item.Is_Cancel == 1)
                                                    {
                                                        <tr>
                                                            <td class="text-center padd-10">@ROWNUMBER</td>
                                                            <td class="text-center padd-10">@item.Shift_Name</td>
                                                            <td class="text-center padd-10">@item.CommitteTypeName</td>
                                                            <td class="text-center padd-10">@item.Delegation_Date</td>
                                                            <td class="text-center padd-10">@item.StartTime</td>
                                                            <td class="text-center padd-10">@item.EndTime</td>
                                                            <td class="text-center padd-10">@num</td>
                                                            <td class="text-center padd-10">@item.Shift_Count</td>
                                                            <td class="text-center padd-10">@totalrow</td>
                                                            <td class="text-center padd-10">   تم إنهاء اللجنة بدون عمل   </td>
                                                        </tr>
                                                    }


                                                </tbody>



                                                ROWNUMBER++;
                                                total += y;
                                            }
                                            else if ((item.CommitteeType_ID == 3 || item.CommitteeType_ID == 6) && item.IsFinishedAll == true)
                                            {
                                                <tbody style="border-bottom:solid 1px;">

                                                    <tr>
                                                        <td class="text-center padd-10">@ROWNUMBER</td>
                                                        <td class="text-center padd-10">@item.Shift_Name</td>
                                                        <td class="text-center padd-10">@item.CommitteTypeName</td>
                                                        <td class="text-center padd-10">@item.Delegation_Date</td>
                                                        <td class="text-center padd-10">@item.StartTime</td>
                                                        <td class="text-center padd-10">@item.EndTime</td>
                                                        <td class="text-center padd-10">@num</td>
                                                        <td class="text-center padd-10">@item.Shift_Count</td>
                                                        <td class="text-center padd-10">@totalrow</td>

                                                        @if (item.IsPaidCommittee == true)
                                                        {
                                                            <td class="text-center padd-10">  تم الدفع </td>
                                                        }
                                                        else
                                                        {
                                                            <td class="text-center padd-10">  لم يتم  الدفع </td>
                                                        }

                                                    </tr>

                                                </tbody>



                                                ROWNUMBER++;
                                                total += y;
                                            }*@

                                        else if ((item.CommitteeType_ID == 3 || item.CommitteeType_ID == 6))
                                        {
                                            <tbody style="border-bottom:solid 1px;">

                                                <tr>
                                                    <td class="text-center padd-10">@ROWNUMBER</td>
                                                    <td class="text-center padd-10">@item.Shift_Name</td>
                                                    <td class="text-center padd-10">@item.CommitteTypeName</td>
                                                    <td class="text-center padd-10">@item.Delegation_Date</td>
                                                    <td class="text-center padd-10">@item.StartTime</td>
                                                    <td class="text-center padd-10">@item.EndTime</td>
                                                    <td class="text-center padd-10">@num</td>
                                                    <td class="text-center padd-10">@item.Shift_Count</td>
                                                    <td class="text-center padd-10">@totalrow</td>


                                                    <td class="text-center padd-10">@item.IsPaidCommitteeCondition </td>


                                                </tr>

                                            </tbody>



                                            ROWNUMBER++;
                                            total += y;
                                        }


                                    }

                                    var cc = Model.FirstOrDefault().List_Shift.Select(a => a.IsPaidCommittee).FirstOrDefault();
                                    var totallast = Math.Truncate(total);

                                    if (cc == true)
                                    {

                                        <tr class="background-whitesmoke"><td colspan="9">إجمالى رسوم النوبتجية</td><td>@totallast جنيهاً مصرياً </td></tr>

                                    }
                                    else
                                    {
                                        <tr class="background-whitesmoke"><td colspan="8">إجمالى رسوم النوبتجية</td><td>@totallast جنيهاً مصرياً </td>@*<td>لم يتم الدفع </td>*@</tr>
                                    }
                                    total += totallast;
                                    //double AllTotal = 0;


                                    @*AllTotal = Total33 + total;
                                        <tr><td colspan="7"><hr /></td></tr>
                                            <tr class="background-whitesmoke"><td colspan="6">إجمالى رسوم المزرعة</td><td>@AllTotal جنيهاً مصرياً </td></tr>*@
                                    //totalShifCommitee += totallast;

                                }
                                else

                                {

                                    <tr>
                                        <td colspan="10" style="width: 945px;padding: 10px;color:#4e5151;font-size:13px;font-weight:bold; ">
                                            لا يوجد نوبتجية
                                        </td>
                                    </tr>
                                }
                            </table>
                        }


                        @if (Model.FirstOrDefault().List_ShiftEngineers.Count() > 0)
                        {
                            <center>

                                <label class="label-info">رســــوم المهندسين</label>


                                <br>


                                @{

                                    <table border="1" class="table table-bordered" id="Tab">
                                        <thead>
                                            <tr class="background-gray">
                                                <th class="text-center padd-10">م</th>
                                                <th class="text-center padd-10">نوع اللجنة</th>

                                                <th class="text-center padd-10">نوع الوردية</th>
                                                <th class="text-center padd-10">تاريخ اللجنة</th>


                                                <th class="text-center padd-10">عدد المهندسين</th>
                                                <th class="text-center padd-10"> البدلات</th>
                                                <th class="text-center padd-10">اجمالي البدلات</th>
                                                <th class="text-center padd-10">حالة الدفع</th>

                                            </tr>
                                        </thead>


                                        @if (Model.FirstOrDefault().List_ShiftEngineers.Count() > 0)
                                        {

                                            //int Total33 = 0;
                                            //var farmComitteeFees2 = Session["FarmComiteeFees"] as List<Select_ShiftTiming_for_ImCheeckReqResult>;
                                            //if (farmComitteeFees2.Count() > 0)
                                            //{
                                            //    Total33 = farmComitteeFees2.FirstOrDefault().NOofCount.Value * 200;
                                            //}

                                            int ROWNUMBER = 1; bool? ISfinished = false; bool resdate = false; decimal total = 0;
                                            foreach (var item in Model.FirstOrDefault().List_ShiftEngineers)
                                            {
                                                decimal z = item.Shift_Amount.Value; decimal xx = item.Num_Eng.Value; decimal y = xx * z;
                                                //bool? CheckEngIsPaied = false;
                                                // if (item.CommitteShiftENGemptylist.Count() > 0)
                                                // {
                                                if (item.Delegation_Date.Value.Year == DateTime.Now.Year && item.Delegation_Date.Value.Month == DateTime.Now.Month)
                                                {
                                                    if (item.Delegation_Date.Value.Day < DateTime.Now.Day)
                                                    {
                                                        resdate = true;
                                                    }

                                                    else
                                                    {
                                                        resdate = false;
                                                    }
                                                }
                                                else if (item.Delegation_Date.Value.Year == DateTime.Now.Year && item.Delegation_Date.Value.Month < DateTime.Now.Month)
                                                {

                                                    resdate = true;

                                                }
                                                else if (item.Delegation_Date.Value.Year == DateTime.Now.Year && item.Delegation_Date.Value.Month > DateTime.Now.Month)
                                                {

                                                    resdate = false;

                                                }
                                                else if (item.Delegation_Date.Value.Year > DateTime.Now.Year)
                                                {
                                                    resdate = true;
                                                }

                                                else if (item.Delegation_Date.Value.Year < DateTime.Now.Year)
                                                {
                                                    resdate = false;
                                                }

                                                if (Model.FirstOrDefault().List_ShiftEngineers.Count() > 0)
                                                {
                                                    <tbody style="border-bottom:solid 1px;">

                                                        <tr>
                                                            <td>@ROWNUMBER</td>

                                                            <td>@item.CommitteTypeName</td>

                                                            <td>
                                                                @item.Shift_Name
                                                            </td>
                                                            <td>@item.Delegation_Date.Value.Date</td>
                                                            <td>
                                                                @item.Num_Eng
                                                            </td>
                                                            <td>
                                                                @(Convert.ToDouble(item.Shift_Amount).ToString("0.00"))
                                                            </td>
                                                            <td>
                                                                @(Convert.ToDouble(item.Shift_Sum_All).ToString("0.00"))
                                                            </td>


                                                            @if (item.IsPaidEngineers == true)
                                                            {

                                                                if (item.IsFinishedAll == true && (item.CommitteeType_ID == 6 || item.CommitteeType_ID == 3))
                                                                {

                                                                    <td>تم الدفع</td>
                                                                }
                                                                else if (item.CommitteeType_ID == 1 || item.CommitteeType_ID == 2)
                                                                {
                                                                    <td>تم الدفع</td>
                                                                }

                                                            }
                                                            else if (total != 0 && item.IsPaidEngineers == true && (item.CommitteeType_ID == 6 || item.CommitteeType_ID == 3) && ISfinished == null && resdate == false)

                                                            {
                                                                <td class="text-center padd-10 column100"> ما زالت اللجنة تحت العمل</td>

                                                            }
                                                            else if (total != 0 && item.IsPaidEngineers == true && (item.CommitteeType_ID == 1 || item.CommitteeType_ID == 2) && resdate == false)
                                                            {
                                                                <td class="text-center padd-10 column100">
                                                                    <span>لا يتم تحديد رسوم بدلات مهندسين</span>
                                                                </td>
                                                            }
                                                            else if (total != 0 && item.IsPaidEngineers == true && (item.CommitteeType_ID == 1 || item.CommitteeType_ID == 2) && resdate == true && ISfinished == true)
                                                            {
                                                                <td class="text-center padd-10 column100">
                                                                    <span>لم يتم الدفع</span>
                                                                </td>
                                                            }
                                                            else if (total != 0 && item.IsPaidEngineers == true && resdate == true && ISfinished == null)
                                                            {
                                                                <td class="text-center padd-10 column100">تم انتهاء موعد اللجنة</td>
                                                            }
                                                            else //if (item.IsPaidEngineers == true)
                                                            {

                                                                <td class="text-center padd-10 column100">لم يتم الدفع </td>

                                                            }
                                                        </tr>


                                                    </tbody>

                                                    ROWNUMBER++;
                                                    total += y;
                                                }

                                                else
                                                {
                                                    <tr><td colspan="8" style="width: 945px;padding: 10px;color:#4e5151;font-size:13px;font-weight:bold; "> لا يتم تحديد رسوم للجان</td></tr>

                                                }
                                            }

                                        }
                                        else
                                        {
                                            <tr><td colspan="8" style="width: 945px;padding: 10px;color:#4e5151;font-size:13px;font-weight:bold; "> لا يوجد  مهندسين في اللجنة </td></tr>
                                        }

                                    </table>
                                }

                            </center>
                        }

                        @if (Model.FirstOrDefault().List_Sample.Count() > 0)
                        {
                            <label class="label-info">رسوم السحب</label>
                            <br>
                            <table border="1" class="table table-bordered">
                                <thead>
                                    <tr>
                                        <th style="text-align:center;">اسم المعمل</th>
                                        <th style="text-align:center;">اسم التحليل</th>
                                        <th style="text-align:center;">نوع الفحص</th>

                                        <th style="text-align:center;">العدد </th>
                                        <th style="text-align:center;">القيمة</th>
                                        <th style="text-align:center;">الاجمالى</th>
                                        <th style="text-align:center;">الدفع</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @for (int i = 0; i < @Model.FirstOrDefault().List_Sample.Count(); i++)
                                    {
                                        <tr>
                                            <td>
                                                @Model.FirstOrDefault().List_Sample[i].Laboratory_Name
                                            </td>
                                            <td>
                                                @Model.FirstOrDefault().List_Sample[i].Sample_Name
                                            </td>
                                            <td>
                                                @Model.FirstOrDefault().List_Sample[i].Is_Total
                                            </td>

                                            <td>
                                                @Model.FirstOrDefault().List_Sample[i].Sample_Count
                                            </td>
                                            <td>
                                                @Math.Round(Convert.ToDouble(Model.FirstOrDefault().List_Sample[i].Sample_Amount), 2).ToString("0.00")
                                            </td>
                                            <td>
                                                @Math.Round(Convert.ToDouble(Model.FirstOrDefault().List_Sample[i].Sample_Sum_All), 2).ToString("0.00")
                                            </td>
                                            <td>
                                                @Model.FirstOrDefault().List_Sample[i].Is_Paid_SampleCondition
                                                @*@if (Model.FirstOrDefault().List_Sample[i].Is_Paid_Sample2 == true)
                                                    {
                                                        <span>تم الدفع</span>
                                                    }
                                                    else
                                                    {
                                                        <span>لم يتم الدفع</span>
                                                    }*@
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                                <tfoot>
                                    <tr>
                                        <td colspan="3" style="text-align:center;">الاجمالى</td>
                                        <td>
                                            @*@Model.FirstOrDefault().List_Sample.Sum(a => a.Sample_Count)*@
                                        </td>

                                        <td>
                                            @*@Model.FirstOrDefault().List_Sample.Sum(a => a.Sample_Amount)*@

                                        </td>




                                        <td>
                                            @Math.Round(Convert.ToDouble(Model.FirstOrDefault().List_Sample.Sum(a => a.Sample_Sum_All)), 2).ToString("0.00")
                                        </td>



                                        <td>
                                        </td>


                                    </tr>
                                </tfoot>
                            </table>
                        }
                        @if (@Model.FirstOrDefault().List_Treatment.Count() > 0)
                        {
                            <label class="label-info">رسوم المعالجة</label>
                            <br>
                            <table border="1" class="table table-bordered">
                                <thead>
                                    <tr>
                                        <th style="text-align:center;"> نوع المعالجة</th>
                                        <th style="text-align:center;">طريقة المعالجة</th>
                                        <th style="text-align:center;">مادة المعالجة</th>
                                        <th style="text-align:center;">القيمة</th>

                                        <th style="text-align:center;">الدفع</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @for (int i = 0; i < @Model.FirstOrDefault().List_Treatment.Count(); i++)
                                    {
                                        <tr>
                                            <td>
                                                @Model.FirstOrDefault().List_Treatment[i].TreatmentType_Name
                                            </td>
                                            <td>
                                                @Model.FirstOrDefault().List_Treatment[i].TreatmentMethod_Name
                                            </td>
                                            <td>
                                                @Model.FirstOrDefault().List_Treatment[i].TreatmentMat_Name
                                            </td>

                                            <td>
                                                @Math.Round(Convert.ToDouble(Model.FirstOrDefault().List_Treatment[i].Treatment_Amount), 2).ToString("0.00")
                                            </td>
                                            <td>
                                                @Model.FirstOrDefault().List_Treatment[i].Is_Paid_TreatmentConition
                                                @*@if (Model.FirstOrDefault().List_Treatment[i].Is_Paid_Treatment2 == true)
                                                    {
                                                        <span>تم الدفع</span>
                                                    }
                                                    else
                                                    {
                                                        <span>لم يتم الدفع</span>
                                                    }*@

                                            </td>



                                        </tr>

                                    }



                                </tbody>
                                <tfoot>
                                    <tr>
                                        <td colspan="3" style="text-align:center;">الاجمالى</td>

                                        <td>
                                            @Math.Round(Convert.ToDouble(Model.FirstOrDefault().List_Treatment.Sum(a => a.Treatment_Amount)), 2).ToString("0.00")
                                        </td>

                                        <td>
                                            @*@if (Model.FirstOrDefault().List_Treatment.Count()>0)
                                                {



                                                    for (int i = 0; i < 1; i++)
                                                    {



                                                            if (Model.FirstOrDefault().List_Treatment[i].Is_Paid_Treatment2 == true)
                                                            {
                                                        <span>تم الدفع</span>
                                                            }
                                                            else
                                                            {
                                                        <span>لم يتم الدفع</span>
                                                            }

                                                    }
                                                }*@
                                        </td>




                                    </tr>
                                </tfoot>
                            </table>

                        }

                        <fieldset>
                            <section>
                                <div class="row">
                                    <div class="label-warning" id="lbltotalAmount" style="font-size:16px;font-weight:bold">
                                        @if (Model != null)
                                        {
                                            //رسوم الفحص
                                            var t0 = 10;
                                            //رسوم المنتجات
                                            var t1 = Model.FirstOrDefault().Fees_Item_All.Select(a => a.Fees).FirstOrDefault();
                                            //رسوم السحب
                                            var t2 = Model.FirstOrDefault().List_Sample.Where(a => a.Is_Paid_Sample2 == true).Sum(a => a.Sample_Sum_All);
                                            //رسوم النبوتجية
                                            var t22 = Model.FirstOrDefault().Shift_Item_All;
                                            //رسوم المهندسين
                                            var t3 = Model.FirstOrDefault().List_ShiftEngineers.Where(a => a.IsPaidEngineers == true).Sum(a => a.Shift_Sum_All);
                                            //رسوم المعالجة
                                            var t4 = Model.FirstOrDefault().List_Treatment.Where(a => a.Is_Paid_Treatment2 == true).Sum(a => a.Treatment_Amount);
                                            //رسوم الشهداء
                                            var t5 = Model.FirstOrDefault().List_Fees_Martyrs.Sum(a => a.Total_Amount);
                                            //إجمالي الرسوم
                                            var tot = @Math.Round(Convert.ToDouble((t0 + t1 + t22 + t2 + t3 + t4 + t5)), 2).ToString("0.00");

                                            <div>السعر الأجمالى للطلب الفحص الصادر  (بالجنية المصرى)   : @tot  </div>
                                        }

                                    </div>
                                </div>
                            </section>
                        </fieldset>


                        <br>




                    </div>

                </div>
            </div>



            <div role="tabpanel" class="tab-pane fade" id="link8">
                <table class="table ">
                    <thead style="background-color:#4d9e97 !important;">
                        <tr>
                            <th>م</th>
                            <th>رقم الاذن</th>
                            <th>تاريخ الاذن</th>
                            <th>تفاصيل</th>

                        </tr>
                    </thead>
                    <tbody>

                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>

                        </tr>

                    </tbody>
                </table>

            </div>

            @*//////////////StartEslam////////////*@
            <div role="tabpanel" class="tab-pane fade" id="link9">

                <div class="row">
                    <div class="col-md-12">
                        <table class="table ">
                            <thead style="background-color:#4d9e97 !important;">
                                <tr>
                                    <th>@PlantQuar.WEB.Language.Resource_data1.RequestNumber</th>
                                    <th>رقم الشهادة الجمركية</th>
                                    <th>تاريخ الشهادة</th>
                                    <th>تاريخ الشحن</th>
                                    <th>تاريخ الوصول</th>
                                    <th>ACID</th>
                                    <th>رقم المنافيستو</th>
                                    <th>التوكيل الملاحي</th>
                                    <th>نوع العملية</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>

            </div>
            @*/////////////EndEslam////////////*@
        </div>
    </div>
    <br />
    <!--ChooseReason-->
    <div>

        <div id="Modal-refuse" class="modal fade" role="dialog">
            <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">@PlantQuar.WEB.Language.Resource_data1.ChooseReasons</h4>
                    </div>
                    <div class="modal-body">
                        <select id="rejreasons" multiple>
                            @foreach (var c in ViewBag.ListReasons)
                            {
                                <option value="@c.Value">@c.DisplayText</option>
                            }


                        </select>
                        <label>  أسباب الرفض </label>
                        <input type="text" id="rejreasons_text" />
                    </div>
                    <div class="modal-footer">
                        @if (Model != null)
                        {
                            <button type="button" class="btn btn-default" data-dismiss="modal" id="saverejectreason" data-id="@Model.FirstOrDefault().Ex_CheckRequest_ID">@PlantQuar.WEB.Language.Resource_data1.Save</button>
                        }
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Modal Details -->
    <div id="mymodalemanexamination" class="modal fade" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    @*<button type="button" class="close" data-dismiss="modal">&times;</button>*@
                    <h4 class="modal-title">@PlantQuar.WEB.Language.Resource_data1.Details </h4>
                </div>
                <div class="modal-body" id="modaldetails">

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default " data-dismiss="modal">@PlantQuar.WEB.Language.Resource_data1.Close</button>
                </div>
            </div>

        </div>
    </div>
    <!--End_Modal Details -->
    <!--ChooseReasonmodel-->

    <input type="hidden" name="User_OutLet_ID" id="User_OutLet_ID" value="@ViewBag.User_OutLet_ID" />
    <input type="hidden" name="User_station" id="User_station" value="@ViewBag.User_station" />
    <input type="hidden" name="Station_Examination_ID" id="Station_Examination_ID" value="@ViewBag.Station_Examination_ID" />
    <input type="hidden" name="Outlet_Examination_ID" id="Outlet_Examination_ID" value="@ViewBag.Outlet_Examination_ID" />


    //alert("u outlet " + User_OutLet_ID + "  u station " + User_station + "  request outlet  " + Outlet_Examination_ID + "  request station " + Station_Examination_ID);

    if (Model.FirstOrDefault() != null)
    {

        if (Model.FirstOrDefault().IsAccepted == null)
        {
            @Html.HiddenFor(m => m.FirstOrDefault().IsAccepted, new { @id = "txtIsAccepted" })
            <div class="row">
                <div class="col-md-12">
                    <div class="col-md-3"></div>
                    <div class="col-md-3">

                        @{
                            var Disabled = Model.FirstOrDefault().IsPaid == false ? "disabled" : "";

                            Disabled = Model.FirstOrDefault().IsAccepted == true ? "disabled" : Disabled;

                            Disabled = Model.FirstOrDefault().IsAccepted == false ? "disabled" : Disabled;

                            var User_OutLet_ID = ViewBag.User_OutLet_ID;

                            List<long> User_station = new List<long>();
                            if (Session["user_Station_ID"] != null)
                            {
                                User_station = Session["user_Station_ID"] as List<long>;
                            }
                            var Station_Examination_ID = ViewBag.Station_Examination_ID;
                            var Outlet_Examination_ID = ViewBag.Outlet_Examination_ID;
                            if (Station_Examination_ID != null)
                            {
                                if (User_station.Contains(Station_Examination_ID))
                                {
                                    Disabled = "";
                                }
                                else { Disabled = "disabled"; }
                            }
                            else
                            {
                                if (User_OutLet_ID == Outlet_Examination_ID)
                                {
                                    Disabled = "";
                                }
                                else
                                {
                                    Disabled = "disabled";
                                }
                            }

                            Disabled = ViewBag.Hide_Button == 1 ? "disabled" : Disabled;
                            var t = @PlantQuar.WEB.Language.Resource_data1.approvalOfRequest;
                            var t1 = @PlantQuar.WEB.Language.Resource_data1.requestApproval;

                            var txt = Model.FirstOrDefault().IsAccepted == true ? t1 : t;
                            var temp = @PlantQuar.WEB.Language.Resource_data1.expensesNotPaid;


                            txt = Model.FirstOrDefault().IsPaid == false ? temp : txt;



                            //@*<input type="hidden" name="User_OutLet_ID" id="User_OutLet_ID" value="@ViewBag.User_OutLet_ID" />
                            //<input type="hidden" name="User_station" id="User_station" value="@ViewBag.User_station" />*@
                            //&ation_ID & Outlet_Genshi_ID = @item.Outlet_Genshi_ID & Station_Genshi_ID = @item.Station_Genshi_ID'>تشكيل لجنه </a>*@
                            <input type="submit" id="btnSave" value="@txt"
                                   @Disabled
                                   class="btn ls-light-green-btn btn-round" style="width:90%;"
                                   data-checkrequestnumber="@Model.FirstOrDefault().Ex_CheckRequest_ID"
                                   data-outletexaminationid="@ViewBag.Outlet_Examination_ID"
                                   data-stationexaminationid="@ViewBag.Station_Examination_ID"
                                   data-outletgenshiid="@Model.FirstOrDefault().PortName"
                                   data-stationgenshiid="@Model.FirstOrDefault().Station_Genshi_ID" />

                        }

                    </div>



                    <div class="col-md-3">
                        @*eman*@
                        <input type="button" id="saverejectreason" value="@PlantQuar.WEB.Language.Resource_data1.requestrejected"
                               @Disabled
                               class="btn ls-light-green-btn btn-round" data-toggle="modal" data-target="#Modal-refuse"
                               style="width:90%;" />

                    </div>
                    @*<div class="col-md-3">

                            <a id="print" class="btn ls-light-green-btn btn-round" href="/ExportRequest/ExRequest_Details/Index2?requestId=@Model.CheckRequest_Id">print</a>
                        </div>*@

                </div>
            </div>

            <!-- Modal -->
        }
        <!--End_ChooseReasonmodel -->
    }
}
@* *****************************  SAVE  ************************* *@

@if (Model.FirstOrDefault().IsAccepted == true)
{

    <span hidden>تم قبول الطلب</span>
}
@if (Model.FirstOrDefault().IsAccepted == false)
{
    <span hidden>تم رفض الطلب</span>

}


<script>



    function btndownload_click(elem) {

        var path = $(elem).data('assigned-id');



        window.open('/Ex_CheckRequestDetails/GetReport?path1=' + path + '', "_blank");



    }
    $(document).ready(function () {

        var _basedwightlots = $("#basedwightlots").val();
        $("#grosslotweight").append(_basedwightlots);
        var _netwightlots = $("#netwightlots").val();
        $("#netlotweight").append(_netwightlots);

        $("#rejreasons").addClass("chosen-select").prop("multiple", true);

        $('#rejreasons_chosen option').prop('selected', true);


        $("#rejreasons option[value=]").remove();
        $("#rejreasons").chosen({
            // disable_search_threshold: 10,
            no_results_text: "@PlantQuar.WEB.Language.Resource_data1.no_results : ",
            placeholder_text_multiple: "@PlantQuar.WEB.Language.Resource_data1.Select_One_More",
            //placeholder_text_single: "ÍÏÏ @PlantQuar.WEB.Language.Resource_data1.Governate",
            width: "95%",
            rtl: true,
            search_contains: true,
        });

    });
    $("#btnSave").click(function () {
        $("#txtIsAccepted").val(true);
        //alert('@(TempData["AlertMessage"])');

        var checkrequestid = $(this).data("checkrequestnumber");
        var outletexaminationid = $(this).data("outletexaminationid");
        var stationexaminationid = $(this).data("stationexaminationid");
       var outletgenshiid = $(this).data("outletgenshiid");
        var stationgenshiid = $(this).data("stationgenshiid");

        @*//   <a href='/Committees/Ex_Committee/Index?requestId=@item.Ex_CheckRequest_ID&Outlet_Examination_ID=@item.Outlet_Examination_ID&Station_Examination_ID=@item.Station_Examination_ID&Outlet_Genshi_ID=@item.Outlet_Genshi_ID&Station_Genshi_ID=@item.Station_Genshi_ID'>تشكيل لجنه </a>*@
        //alert(checkrequestid);
     window.location = '/Committees/Ex_Committee/Index?requestId=' + checkrequestid + '&Outlet_Examination_ID=' + outletexaminationid + '&Station_Examination_ID=' + stationexaminationid + '&Outlet_Genshi_ID=' + outletgenshiid + '&Station_Genshi_ID=' + stationgenshiid;
        //window.open('/Imges/Downlood_Imge/GetReport1?path1=' + path + '', "_blank");

    });

    //$("#btnReject").click(function () {
    //    $("#txtIsAccepted").val(false);
    //    $("#submform").submit();
    //});
    $("#saverejectreason").click(function () {
        $("#txtIsAccepted").val(false);
        var list = $("#rejreasons").val();
        var rejreasons_text = $("#rejreasons_text").val();
      // console.log(list)
        var id = $(this).data("id");
        //var checkReqId = $("#checkReqId").val(); //alert(id)
        if (list != null) {

            $.post('/Export_CheckRequest/EX_CheckRequestDetails/saveReasons', { listIDs: list, checkReqId: id, rejreasons_text: rejreasons_text }, function (data, succ) {

                $("#submform").submit();
            });
        } else {
            alert("choose reasons")
        }

    });
    // Eslam_Fill PopUp_Details For Item
     $(".quickview2").click(function () {


         var itemName = $(this).data("item");
         var qualitive = $(this).data("qualitive");
         var initiator = $(this).data("initiator");
         var itemsn = $(this).data("itemsn");
         //var gweight = $(this).data("gweight");
         //var nweight = $(this).data("nweight");

         var purpose = $(this).data("purpose");
         var status = $(this).data("status");
         var subpartname = $(this).data("subpartname");
         var unitcount = $(this).data("unitcount");
         var size = $(this).data("size");
         var ordertext = $(this).data("odrtxt");
         var fees = $(this).data("fees");
         var _itemcategoriesname = $(this).data("itemcategoriesname");
         var _itemcategorycurrentstatus = $(this).data("itemcategorycurrentstatus");
         var isregister = $(this).data("isregister");
         var itemcategoriesgroupname = $(this).data("itemcategoriesgroupname");
         var farmcode = $(this).data("farmcode");
         var farmname = $(this).data("farmname");
         var farmagriculturehand = $(this).data("farmagriculturehand");
         var farmgovernname = $(this).data("farmgovernname");
         var farmcentername = $(this).data("farmcentername");
         var farmvillagename = $(this).data("farmvillagename");
         //alert(itemcategoriesgroupname);
        //  alert("___itemcategorieslots__" + itemcategorieslots + "__ordertext___" + ordertext + "___scientificname__" + scientificname + "___unitcount__" + unitcount + "__subpartname___" + subpartname + "___status__" + status + "___purpose__" + purpose + "___pweight__" + pweight + "___packcount__" + packcount + "___ptype__" + ptype + "__pmatrial___" + pmatrial + "__constrain___" + constrain);
         var itemcategorycurrentstatusText="" ;
         var isregisterText = "";
     /*    لو الصنف غير موجود لا نظهر مسجل و تحت الحماية*/
         //ert(_itemcategoriesname);
         if (_itemcategoriesname != null) {
           // alert(_itemcategorycurrentstatus);
             if (_itemcategorycurrentstatus == "True")
             {

                 itemcategorycurrentstatusText = 'تحت الحماية';

             }
            else if (_itemcategorycurrentstatus == "False")
             {

                 itemcategorycurrentstatusText = 'ليس تحت الحماية';

             }

           //  alert(isregister);
             if (isregister == "True")
                 {
               //  alert(1);
                 isregisterText = ' مسجل';
             }
             else if (isregister == "False")
                 {
                // alert(2);
                 isregisterText = 'غير مسجل';
             }
         } else
         {

             itemcategorycurrentstatusText = "";
             isregisterText = "";
         }
    /*   لو المزرعة موجودة نظهر العنوان من جدول farm data  لو مش موجودة نظهر من checkrequestItem */
       //  if (farmname == null) { farmgovernname = ""; farmcentername = ""; farmvillagename = ""; }
         if (farmcode == "") { farmcode = "لا يوجد" };
         if (farmname == "") { farmname = "لا يوجد" };
         if (farmgovernname == "") { farmgovernname = "لا يوجد"  };
         if (farmcentername == "") { farmcentername = "لا يوجد" };
         if (farmvillagename == "") { farmvillagename = "لا يوجد" };
         //////

         $("#modaldetails").empty();
         @*$("#modaldetails").append("<label> @PlantQuar.WEB.Language.Resource_data1.itemName :<span class='modalspan'> " + itemName + "</span></label><br><label> @PlantQuar.WEB.Language.Resource_data1.QualitativeGroup :<span class='modalspan'> " + qualitive + "</span></label><br><label> @PlantQuar.WEB.Language.Resource_data1.InitiatorCountry :<span class='modalspan'> " + initiator + "</span></label><br><label>itemName :<span class='modalspan'> " + itemsn + "</span></label><br><label>TotalWeight :<span class='modalspan'> " + nweight + "</span></label><br><label> Weight :<span class='modalspan'> " + gweight + "</span></label><br><label> @PlantQuar.WEB.Language.Resource_data1.PackageMaterial :<span> " + pmatrial + "</span></label><br><label>PackageCount :<span class='modalspan'> " + packcount + "</span></label><br><label> @PlantQuar.WEB.Language.Resource_data1.PackageWeight :<span class='modalspan'> " + pweight + "</span></label><br><label>PackageType :<span class='modalspan'> " + ptype + "</span></label><br><label> @PlantQuar.WEB.Language.Resource_data1.Purpose :<span class='modalspan'> " + purpose + "</span></label><br><label>Status :<span class='modalspan'> " + status + "</span></label><br><label> @PlantQuar.WEB.Language.Resource_data1.Units_Number :<span class='modalspan'> " + unitcount + "</span></label><br><label>ScientificName :<span class='modalspan'> " + scientificname + "</span></label><br><label>order_text :<span class='modalspan'> " + ordertext + "</span></label><br><label> subpartname :<span class='modalspan'> " + subpartname + "</span></label><br><label> @PlantQuar.WEB.Language.Resource_data1.Fees :<span class='modalspan'> " + fees + "</span></label>")*@
         $("#modaldetails").append("<table id='popup'> <tbody><tr>   <td>اسم الكائن </td><td>" + itemName + "</td> <td>الاسم المختصر</td><td>"
             + itemsn + "</td></tr><tr> <td>المنشأ </td><td>مصر</td> <td>الجزء النباتي </td><td>" + subpartname
             + "</td></tr><tr> <td>غرض التصدير </td><td>" + purpose
             + "</td> <td>حالة الصنف </td><td>" + status +
             "</td></tr>"+
             @*< tr > <td>@PlantQuar.WEB.Language.Resource_data1.Units_Number </td><td>" + unitcount +
             "</td> <td>@PlantQuar.WEB.Language.Resource_data1.Fees</td><td>" + fees
             + "</td></tr><tr><td>  حجم الرسالة </td><td>" + size
             + "[م³]</td> <td>@PlantQuar.WEB.Language.Resource_data1.order_text </td><td>" + ordertext
             + "</td> </tr>*@
            " <tr> <td>المجموعة الصنفية </td><td>" + itemcategoriesgroupname
             + "</td><td>مسجل / غير مسجل</td><td>" + isregisterText
             + "</td></tr>    <tr><td>الصنف الزراعى / السلالة</td><td>" + _itemcategoriesname
             + "</td><td>تحت الحماية / ليس تحت الحماية</td><td>" + itemcategorycurrentstatusText
            /* + "</td></tr>    <tr><td colspan='2'>تعبئة / بدون تعبئة</td><td colspan='2'>" + farmgovernname*/
             + "</td></tr>"
             + "</td></tr>    <tr><td>كود المزرعة</td><td>" + farmcode
             + "</td><td>اسم المزرعة</td><td>" + farmname

             + "</td></tr>    <tr><td colspan='2'>المحافظة</td><td colspan='2'>" + farmgovernname
             +"</td></tr>"

             + "   <tr><td>المركز</td><td>" + farmcentername
             + "</td><td>القرية</td><td>" + farmvillagename
             + "</td></tr>    <tr><td colspan='2'>ناحية المزرعة</td><td colspan='2'>" + farmagriculturehand

             + "</td></tr></tbody> </table>")

     });
        // Eslam_Fill PopUp_Details For lot
     $(".quickview1").click(function () {


         var netweight = $(this).data("netweight");
             var grossweight = $(this).data("grossweight");
         var packagecount = $(this).data("packagecount");
         if (packagecount == null || packagecount == 0 || packagecount == '') {
             packagecount = '#####'
         }
         var packageweight = $(this).data("packageweight");
         if (packageweight == null || packageweight == 0 || packageweight == '') {
             packageweight = '#####'
         }
                  var number_wooden_package = $(this).data("number_wooden_package");
         if (number_wooden_package == null || number_wooden_package == 0 || number_wooden_package == '') {
             number_wooden_package = '#####'
         }
         var ordertext = $(this).data("ordertext");
         if (ordertext == null || ordertext == 0 || ordertext == '') {
             ordertext = '#####'
         }
         //var navigationalfluidnumber = $(this).data("navigationalfluidnumber");
         var packagetype = $(this).data("packagetype");
         if (packagetype == null || packagetype == 0 || packagetype == '') {
             packagetype = '#####'
         }
         var reasonentry = $(this).data("reasonentry");
         if (reasonentry == null || reasonentry == 0 || reasonentry == '') {
             reasonentry = '#####'
         }
         var size = $(this).data("size");
         if (size == null || size == 0 || size == '') {
             size = '#####'
         }
         var basedweight = $(this).data("basedweight");
         var itemcat = $(this).data("itemcat");
         if (itemcat == null || itemcat == 0 || itemcat == '') {
             itemcat = '#####'
         }
         var itemcatgroup = $(this).data("itemcatgroup");
         if (itemcatgroup == null || itemcatgroup == 0 || itemcatgroup == '') {
             itemcatgroup = '#####'
         }
         var pckgematerial = $(this).data("pckgematerial");
         if (pckgematerial == null || pckgematerial == 0 || pckgematerial == '') {
             pckgematerial = '#####'
         }
         var packagebasedweight = $(this).data("packagebasedweight");

         if (packagebasedweight == null || packagebasedweight == 0 || packagebasedweight == '')
         {
             packagebasedweight = '#####'
         }
         var packagenetweight = $(this).data("packagenetweight");

         if (packagenetweight == null || packagenetweight == 0 || packagenetweight == '')
         {
             packagenetweight = '#####'
         }
         var unitsnumber = $(this).data("unitsnumber");
         var subpartname = '';
         if (unitsnumber == null || unitsnumber == 0 || unitsnumber == '') {
             unitsnumber = '#####'

         }
         else {
                var subpartname = $(this).data("subpartname");
             if (subpartname == null || subpartname == 0 || subpartname == '') {
                 subpartname = '#####'
             }
         }

         var shipmentpolicynumber = $(this).data("shipmentpolicynumber");
         if (shipmentpolicynumber == null || shipmentpolicynumber == 0 || shipmentpolicynumber == '') {
             shipmentpolicynumber = '#####'
         }
         var _grower_number = $(this).data("grower_number");
         if (_grower_number == null || _grower_number == 0 || _grower_number == '') {
             _grower_number = '#####'
         }
         var recorded = $(this).data("recorded");
         if (recorded == null || recorded == 0 || recorded == '') {
             recorded = '#####'
         }




         @**@

         $("#modaldetails").empty();
         //  $("#modaldetails").append("<table id='popup'><tr><td>@PlantQuar.WEB.Language.Resource_data1.PackageCount</td><td><span class='modalspan'> " + packagecount + "</span></td><td>سبب الدخول   </td><td><span class='modalspan'> " + reasonentry + "</span></td></tr><tr><td> @PlantQuar.WEB.Language.Resource_data1.PackageWeight</td><td><span class='modalspan'> " + packageweight + "</span><span class='red'>كجم</span></td><td>@PlantQuar.WEB.Language.Resource_data1.PackageType</td><td><span class='modalspan'> " + packagetype + "</span></td></tr><tr><td> @PlantQuar.WEB.Language.Resource_data1.PackageMaterial</td><td><span class='modalspan'> " + pckgematerial + "</span></td><td>@PlantQuar.WEB.Language.Resource_data1.PackageWeight</td><td><span class='modalspan'> " + packagebasedweight + "</span></td></tr><tr><td> @PlantQuar.WEB.Language.Resource_data1.Size</td><td><span class='modalspan'> " + size + "</span></td><td>@PlantQuar.WEB.Language.Resource_data1.order_text</td><td><span class='modalspan'> " + ordertext + "</span></td></tr><tr><td> @PlantQuar.WEB.Language.Resource_data1.ItemsCategoryGrp</td><td><span class='modalspan'> " + itemcatgroup + "</span></td><td>الرقم الملاحي</td><td><span class='modalspan'> " + navigationalfluidnumber + "</span></td></tr><tr><td>@PlantQuar.WEB.Language.Resource_data1.PackageNetWeight </td><td>" + packagenetweight + "</td><tr><td>@PlantQuar.WEB.Language.Resource_data1.Units_Number </td><td>" + unitsnumber + "</td><td>رقم بوليصة الشحن</td><td>" + shipmentpolicynumber + "</td></tr></tr></table>");
         $("#modaldetails").append("<table id='popup'><tr><td>@PlantQuar.WEB.Language.Resource_data1.PackageType</td><td><span class='modalspan'> "
             + packagetype + "</span></td><td> @PlantQuar.WEB.Language.Resource_data1.PackageMaterial</td><td><span class='modalspan'> "
             + pckgematerial + "</span></td></tr><tr><td>@PlantQuar.WEB.Language.Resource_data1.PackageCount</td><td><span class='modalspan'> "
             + packagecount + "</span><span class='red'>عبوة</span></td><td>الوزن القائم للعبوة</td><td><span class='modalspan'> "
             + packagebasedweight + "</span><span class='red'>كجم</span></td></tr><tr><td> الوزن الصافي للعبوة	</td><td><span class='modalspan'> "
             + packagenetweight + "</span><span class='red'>كجم</span></td><td>الوزن العبوة الفارغ	</td><td><span class='modalspan'> "
             + packageweight + "</span><span class='red'>كجم</span></td></tr><tr><td> الوزن الاجمالي للوط 	</td><td><span class='modalspan'> "
             + grossweight + "</span><span class='red'>كجم</span></td><td>الوزن الصافي للوط 	</td><td><span class='modalspan'> "
             + netweight + "</span><span class='red'>كجم</span></td></tr><tr><td>  عدد الوحدات </span></td><td>" + unitsnumber
             + "<span class='red'>" + subpartname + "</span></td><td>  حجم الرسالة </td> <td>"
             + size + "[م³]</td> </tr><tr><td>@PlantQuar.WEB.Language.Resource_data1.order_text</td><td><span class='modalspan'> "
             + ordertext
             //+ "</span></td><td>رقم بوليصة الشحن</td><td><span class='modalspan'>"
             //+ shipmentpolicynumber + "</span></td></tr><tr><td>سبب الدخول   </td><td><span class='modalspan'> "
             //+ reasonentry + "</span></td><td>رقم المزارع</td><td><span class='modalspan'> " + _grower_number
             //+ "</span></td></tr><tr><td>المجموعة الصنفية</td><td><span class='modalspan'> "
             //+ itemcatgroup + "</span></td><td>مسجل/غير مسجل</td><td><span class='modalspan'> "
             //+ recorded + "</span></td></tr><tr><td>الصنف الزراعي/السلالة</td><td><span class='modalspan'> "
             //+ itemcat + "</span></td><td>واحدت التعبئة الخشبية</td><td><span class='modalspan'> "
             //+ number_wooden_package
             + "</span></td></tr></table>");
           //  $("#modaldetails").append("<table><tr><td> @PlantQuar.WEB.Language.Resource_data1.LotNumber</td><td><span class='modalspan'> " + lotnumber + "</span></td><td>@PlantQuar.WEB.Language.Resource_data1.CategoryName</td><td><span class='modalspan'> " + categoryname + "</span></td></tr><tr><td> @PlantQuar.WEB.Language.Resource_data1.LotNumber</td><td><span class='modalspan'> " + lotnumber + "</span></td><td>@PlantQuar.WEB.Language.Resource_data1.CategoryName</td><td><span class='modalspan'> " + categoryname + "</span></td></tr><tr><td> @PlantQuar.WEB.Language.Resource_data1.LotNumber</td><td><span class='modalspan'> " + lotnumber + "</span></td><td>@PlantQuar.WEB.Language.Resource_data1.CategoryName</td><td><span class='modalspan'> " + categoryname + "</span></td></tr><tr><td> @PlantQuar.WEB.Language.Resource_data1.LotNumber</td><td><span class='modalspan'> " + lotnumber + "</span></td><td>@PlantQuar.WEB.Language.Resource_data1.CategoryName</td><td><span class='modalspan'> " + categoryname + "</span></td></tr><tr><td> @PlantQuar.WEB.Language.Resource_data1.LotNumber</td><td><span class='modalspan'> " + lotnumber + "</span></td><td>@PlantQuar.WEB.Language.Resource_data1.CategoryName</td><td><span class='modalspan'> " + categoryname + "</span></td></tr><tr><td> @PlantQuar.WEB.Language.Resource_data1.LotNumber</td><td><span class='modalspan'> " + lotnumber + "</span></td><td>@PlantQuar.WEB.Language.Resource_data1.CategoryName</td><td><span class='modalspan'> " + categoryname + "</span></td></tr></table>");

     });
                //End Fill PopUp_Details For Item

                // Fill SaveFees
    $('.savefees').click(function () {
        var id = $(this).data("id");
        console.log(id)
        var fees = $("#i_" + id).val();
        $.post('/Ex_CheckRequests/Ex_CheckRequestDetails/saveItemFees', { itemId: id, fees: fees }, function (data, succ) {
            alertify.success('تم نعديل الرسوم ')
        });

    });


    $('.Show_Imge').click(function () {

        var path = $(this).data('id');
        window.open('/Ex_CheckRequestDetails/GetReport?path1=' + path + '', "_blank");
        //var id = $(this).data("id");
        //alert(id)
        //var fees = $("#i_" + id).val();
        //$.post('/Ex_CheckRequests/Ex_CheckRequestDetails/saveItemFees', { itemId: id, fees: fees }, function (data, succ) {

        //});

    });
     // End_Fill SaveFees
    function printContent2(el2) {
        var restorepage2 = document.body.innerHTML;
        //var radioValue = $("input[name='openVisitor']:checked").val();
        //if (radioValue == 0) {
        //    $("#yes_radio").hide();
        //}
        //else {
        //    $("#no_radio").hide();
        //}
        $(".form-control").css("width", "25%");
        //$(".form-control").css("display", "inline-block");
        $(".nav-tabs").css("display", "none");
        $(".tab-pane").css("border", "2px solid black");
        $(".tab-pane").css("border-radius", "20px");
        var txt1 = "<h3 style='text-align:center'> @PlantQuar.WEB.Language.Resource_data1.requestInfos</h3>";
        $("#ReqDataTab").before(txt1);
        var txt2 = "<h3 style='text-align:center'>@PlantQuar.WEB.Language.Resource_data1.importedCompanies</h3>";
        $("#ImportCompaniiesTab").before(txt2);
        var txt3 = "<h3 style='text-align:center'>  @PlantQuar.WEB.Language.Resource_data1.messageDetails</h3>";
        $("#DetailsTab").before(txt3);
        var txt4 = "<h3 style='text-align:center'> @PlantQuar.WEB.Language.Resource_data1.Attachments</h3>";
        $("#filesTab").before(txt4);

        $(".form-rowr").css("margin-bottom", "7px");
        $(".form-rowr").css("padding-bottom", "7px");
        $(".form-box").css("margin-bottom", "7px");
        $(".form-box").css("padding-bottom", "7px");
        $(".form-rowr").css("border-bottom", "1px dashed #cbc5ba");
        $(".demo-default").css("width", "100%");
        //$(".label-info").css("text-decoration", "underline");
        $(".label-info").css("border", "1px solid #cbc5ba");
        $(".label-info").css("padding", "5px");
        $(".label-info").css("border-radius", "6px 20px");
        $(".lastdiv").css("border-bottom", "none")
        $("#ReqDataTab").removeAttr("class");
        $("#ReqDataTab").addClass("tab-pane fade active in");
        $("#ImportCompaniiesTab").removeAttr("class");
        $("#ImportCompaniiesTab").addClass("tab-pane fade active in");
        $("#DetailsTab").removeAttr("class");
        $("#DetailsTab").addClass("tab-pane fade active in");
        $("#filesTab").removeAttr("class");
        $("#filesTab").addClass("tab-pane fade active in");
        var printcontent2 = $('#' + el2).html();
        document.body.innerHTML = printcontent2;
        window.print();
        history.go(0);
        document.body.innerHTML = restorepage2;
    }
</script>

