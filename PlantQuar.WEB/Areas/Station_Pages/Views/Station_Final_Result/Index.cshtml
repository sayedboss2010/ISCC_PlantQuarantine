@model  PlantQuar.DTO.DTO.Station_Pages.Station_Final_Result_New_DTO
@{
    ViewBag.Title = "Indexnew";
    Layout = "~/Views/Shared/_LayoutPage1.cshtml";
}

@*<script src="~/scripts/jquery.dataTables.min.js"></script>
    <link href="~/assets/css/jquery.dataTables.min.css" rel="stylesheet" />*@

<style>
    .display-none {
        display: none
    }

    .tapp-title {
        padding: 10px 30px;
    }
</style>

<div class="row">

    <label class="tapp-title">
        بيانات المحطة
    </label>

</div>
<br />
<div class="row">
    <div class="col-md-6">
        <div class="row">
            <div class="col-md-3">
                <label>
                    اسم المحطة
                </label>
            </div>
            <div class="col-md-9">
                <input type="text" value="@Model.Station_Name" readonly="" class="form-control " width="100">

            </div>
        </div>

    </div>
    <div class="col-md-6">
        <div class="row">
            <div class="col-md-3">
                <label> كود المحطة</label>
            </div>
            <div class="col-md-9">
                <input type="text" value="@Model.StationCode" readonly="" class="form-control " width="100">
            </div>
        </div>
    </div>
</div>

<br />
<div class="row">
    <div class="col-md-6">
        <div class="row">
            <div class="col-md-3">
                <label>
                    المحافظة
                </label>
            </div>
            <div class="col-md-9">
                <input type="text" value="@Model.Governate_Name" readonly="" class="form-control " width="100">

            </div>
        </div>

    </div>
    <div class="col-md-6">
        <div class="row">
            <div class="col-md-3">
                <label> المركز</label>
            </div>
            <div class="col-md-9">
                <input type="text" value="@Model.Center_Name" readonly="" class="form-control " width="100">
            </div>
        </div>
    </div>


</div>
<br />
<div class="row">
    <div class="col-md-6">
        <div class="row">
            <div class="col-md-3">
                <label> القرية</label>
            </div>
            <div class="col-md-9">
                <input type="text" value="@Model.Village_name" readonly="" class="form-control " width="100">
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="row">
            <div class="col-md-3">
                <label> لينك التفاصيل</label>
            </div>
            <div class="col-md-9">
                <a href="../../Station_Pages/StationDetails/Index?stationId=@ViewBag.stationId">عرض التفاصيل</a>
            </div>
        </div>
    </div>
</div>

<br />
<div class="row">

    <label class="tapp-title">
        بيانات اللجان
    </label>

</div>
<br />

@foreach (var item_Data in Model.List_Station_Accreditation_Data)
{
    //بيانات المسمي
    <table id="itemTable" class="table " style="border: 5px solid #1f6c6f !important;">
        <tbody>
            <tr style=" background-color: rgb(77 ,158 ,151); color: #fff; font-weight: bold; font-size: 16px;" class="toggle-div-@item_Data.Station_Accreditation_Data_ID">
                <td colspan="12" style="font-size:inherit">
                    <input id="@item_Data.Station_Accreditation_Data_ID" class="style-but" onClick="reply_click2(this)" type="button"
                           value="@item_Data.Station_Accreditation_Data_Name" style="background-color: #CE9461 !important;">
                </td>
                <th colspan="12" style="font-size:inherit">
                    <input id="@item_Data.Station_Accreditation_Data_ID" class="style-but" type="button" onClick="reply_click4(this)" value="موقف الحجر" style="background-color: #CE9461 !important;">
                </th>
            </tr>
        </tbody>
    </table>


    @* ******************* موقف الحجر **************** *@

    <div role="tabpanel" class="display-none  tab-pane fade in QuarantineTab_@item_Data.Station_Accreditation_Data_ID" id="QuarantineTab_@item_Data.Station_Accreditation_Data_ID" style="height:auto;">
        <div class="row">
            <div class="col-md-12 dataTables_wrapper form-inline dt-bootstrap  ">
                <table style="width:100%;">
                    <thead>
                        <tr>
                            <th class="background-c99b6d">الموقف</th>
                            <th class="background-c99b6d">تعليق</th>
                            <th class="background-c99b6d">التاريخ من</th>
                            <th class="background-c99b6d">التاريخ الى</th>
                            <th class="background-c99b6d">موقف الحجر</th>
                            <th class="background-c99b6d">اسم المسؤل</th>
                        </tr>
                    </thead>
                    <tbody>
                        @* البيانات القديمة *@
                        @foreach (var Request_Type in item_Data.List_Station_Accreditation_Request_Hagre.Where(a => a.IsAccepted_Quarantine != null))
                        {
                            <tr>
                                
                                <td>
                                    @Request_Type.Station_Accreditation_Request_Type_Name
                                </td>

                                <td>
                                    @if (@Request_Type.Notes_Quarantine != null)
                                    {
                                        <span>@Request_Type.Notes_Quarantine</span>
                                    }
                                    else
                                    {
                                        <span>لا يوجد تعليق</span>
                                    }
                                </td>
                                <td>
                                    @if (@Request_Type.StartDate_Quarantine != null)
                                    {
                                        <span>@Request_Type.StartDate_Quarantine.Value.ToString("yyyy/MM/dd")</span>
                                    }
                                    else
                                    {
                                        <span>لا يوجد تاريخ</span>
                                    }
                                </td>
                                <td>
                                    @if (Request_Type.EndDate_Quarantine != null)
                                    {
                                        <span>@Request_Type.EndDate_Quarantine.Value.ToString("yyyy/MM/dd") </span>
                                    }
                                    else
                                    {
                                        <span>لا يوجد تاريخ</span>
                                    }
                                </td>
                                <td>
                                    @if (Request_Type.IsAccepted_Quarantine == true)
                                    {
                                        <span>مقبول</span>
                                    }
                                    else if (Request_Type.IsAccepted_Quarantine == false)
                                    {
                                        <span>مرفوض</span>
                                    }
                                    else
                                    {
                                        <span>لا توجد نتيجة</span>
                                    }
                                </td>

                                <td>
                                    @if (@Request_Type.Full_Name_Quarantine != null)
                                    {
                                        <span>@Request_Type.Full_Name_Quarantine</span>
                                    }
                                    else
                                    {
                                        <span>لا يوجد مسؤل</span>
                                    }

                                </td>

                            </tr>
                        }
                        @if (item_Data.Is_final_Status == true)
                        {
                            <tr>
                                <td>
                                    <span hidden>@item_Data.Station_Accreditation_Request_ID</span>
                                    <input type="hidden" value="@item_Data.Station_Accreditation_Request_ID" id="Station_Accreditation_Request_ID_@item_Data.Station_Accreditation_Request_ID" />
                                    <input type="hidden" value="@item_Data.Station_Accreditation_Data_ID" id="Station_Accreditation_Data_ID_@item_Data.Station_Accreditation_Request_ID" />
                                    <input type="hidden" value="@item_Data.Station_ID" id="Station_ID_@item_Data.Station_Accreditation_Request_ID" />
                                    <span>@item_Data.Station_Accreditation_Request_Type_Name</span>
                                </td>

                                <td><input type="text" id="Txt_Notes_Quarantine_@item_Data.Station_Accreditation_Request_ID" /></td>
                                <td>
                                    <input type="text" name="Txt_StartDate_Quarantine" id="Txt_StartDate_Quarantine_@item_Data.Station_Accreditation_Request_ID" class="form-control datepicker" required readonly />
                                </td>
                                <td>
                                    <input type="text" name="Txt_EndDate_Quarantine" id="Txt_EndDate_Quarantine_@item_Data.Station_Accreditation_Request_ID" class="form-control datepicker" required readonly />
                                </td>
                                <td>مقبول<input type="radio" id="IsAccepted_Quarantine_Accept_@item_Data.Station_Accreditation_Request_ID" value="1" name="IsAccepted_Quarantine" /></td>
                                <td>مرفوض<input type="radio" id="IsAccepted_Quarantine_Reject_@item_Data.Station_Accreditation_Request_ID" value="2 " name="IsAccepted_Quarantine" /></td>
                            </tr>
                            <tr>
                                <td>
                                    @*<input class="style-but" id="submitValue" data-id="@item_Data.Station_Accreditation_Request_ID" onClick="submitValue2(this)"
                                           type="button" value="حفظ الموقف" style="background-color: #CE9461 !important;">*@
                                    <input id="@item_Data.Station_Accreditation_Request_ID" class="style-but" type="button" onClick="submitValue2(this)"  value="حفظ الموقف" style="background-color: #CE9461 !important;">

                                </td>
                            </tr>
                        }
                        else
                        {
                    <tr>
                  
                        <td colspan="5" align="center">
                            @if (@item_Data.Station_Accreditation_Request_ID != -1)
                            {
                                <span>لم يتم اكمال الاجراءات</span>
                            }
                            else
                            {
                                <span>تم اكمال الاجراءات</span>
                            }
                        </td>
                    </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>


    foreach (var Request_Type_name in item_Data.List_Station_Accreditation_Request_Type)
    {
        @*-----نوع اللجان  اول مره  تقييم تجديد*@
        <table id="itemTable" class="table display-none  toggle-div2_@item_Data.Station_Accreditation_Data_ID" style="border: 3px solid #606f49 !important">
            <thead>
                <tr class="background-606f49">
                    <th colspan="12" style="font-size:inherit">
                        <input id="@Request_Type_name.Station_Accreditation_Request_Type_ID@Request_Type_name.Station_Accreditation_Data_ID"
                               class="style-but" onClick="reply_click3(this)" type="button"
                               value="@Request_Type_name.Station_Accreditation_Request_Type_Name" style="background-color: #CE9461 !important;">
                    </th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>

        <div role="tabpanel" style="min-height:80% !important; width: 100% !important;" class="tab display-none  toggle-div33_@Request_Type_name.Station_Accreditation_Request_Type_ID@Request_Type_name.Station_Accreditation_Data_ID">
            @for (int i = 0; i < Request_Type_name.List_Station__Request_Committee.Count; i++)
            {
                int count_Comm = i + 1;
                long Num_Comm = Request_Type_name.List_Station__Request_Committee[i].Station_Committee_ID;
                <div class="row">
                    <input id="@Num_Comm" class="style-but" onClick="reply_click44(this)" type="button" value=" لجنة رقم @count_Comm " style="background-color: #CE9461 !important;">
                    <input id="@Num_Comm" class="style-but" type="text" value=" @Request_Type_name.List_Station__Request_Committee[i].Committee_position " style="background-color: #CE9461 !important; width: 180px;">
                    <input id="@Num_Comm" class="style-" type="text" value="تاريخ اللجنة: @Request_Type_name.List_Station__Request_Committee[i].Station_Committee_Delegation_Date.Value.ToString("yyyy/MM/dd") " style="background-color: #CE9461 !important; width: 180px;">
                    <input id="@Num_Comm" class="style-but" type="text" value="وقت البدايه: @Request_Type_name.List_Station__Request_Committee[i].Station_Committee_StartTime " style="background-color: #CE9461 !important; width: 180px;">
                    <input id="@Num_Comm" class="style-but" type="text" value="وقت النهايه: @Request_Type_name.List_Station__Request_Committee[i].Station_Committee_EndTime " style="background-color: #CE9461 !important; width: 180px;">
                </div>
                <div role="tabpanel" style="min-height:80% !important; width: 100% !important;" class="tab display-none  toggle-div3_@Num_Comm">
                    <ul class="row nav nav-tabs" role="tablist">
                        <li role="presentation" class="active">
                            <a href="#companyTab_@Num_Comm" aria-controls="profile" role="tab" data-toggle="tab">موقف الأدمن</a>
                        </li>
                        <li role="presentation">
                            <a href="#BasicTab_@Num_Comm" aria-controls="profile" role="tab" data-toggle="tab">موقف المساعد</a>
                        </li>
                        <li role="presentation">
                            <a href="#ImgeTab_@Num_Comm" aria-controls="profile" role="tab" data-toggle="tab">الصور</a>
                        </li>
                    </ul>

                    <div class="tab-content tabs" style="background-color:whitesmoke  !important;">
                        @* ******************* موقف الادمن **************** *@
                        <div role="tabpanel" class="tab-pane fade in active" id="companyTab_@Num_Comm" style="height:auto;">
                            <div class="row">
                                <div class="col-md-12">

                                    @if (Request_Type_name.List_Station__Request_Committee[i].List_Station_Request_Committee_Admin.Count() > 0)
                                    {
                                        <table id='popup'>
                                            <thead>
                                                <tr class="table-head-green"><td colspan="4" align="center">   <span>بيانات الادمن</span></td></tr>
                                            </thead>
                                            <tbody class="table-white">
                                                <tr>
                                                    <td>اسم الادمن</td>
                                                    <td colspan="3">@Request_Type_name.List_Station__Request_Committee[i].List_Station_Request_Committee_Admin.FirstOrDefault().FullName </td>
                                                </tr>
                                                <tr>
                                                    <td>موقف الادمن العام</td>
                                                    <td>
                                                        @if (@Request_Type_name.List_Station__Request_Committee[i].List_Station_Request_Committee_Admin.FirstOrDefault().IsAccepted_final_Admin != null)
                                                        {
                                                            if (@Request_Type_name.List_Station__Request_Committee[i].List_Station_Request_Committee_Admin.FirstOrDefault().IsAccepted_final_Admin == true)
                                                            {
                                                                <span>موافق</span>
                                                            }
                                                            else
                                                            {
                                                                <span> مرفوض </span>
                                                            }
                                                        }
                                                        else
                                                        {
                                                            <span>لا يوجد بيان</span>
                                                        }
                                                    </td>
                                                    <td>ملاحظات الادمن العام</td>
                                                    <td>
                                                        @if (@Request_Type_name.List_Station__Request_Committee[i].List_Station_Request_Committee_Admin.FirstOrDefault().Notes_Ar_final_Admin != null)
                                                        {
                                                            @Request_Type_name.List_Station__Request_Committee[i].List_Station_Request_Committee_Admin.FirstOrDefault().Notes_Ar_final_Admin
                                                        }
                                                        else
                                                        {
                                                            <span>لا يوجد بيان</span>
                                                        }
                                                    </td>
                                                </tr>
                                                @if (@Request_Type_name.List_Station__Request_Committee[i].Station_Refuse_Reason_Nots != null)
                                                {
                                                    <tr>
                                                        <td>اسباب تعزر الفحص</td>
                                                        <td colspan="3">
                                                            @if (@Request_Type_name.List_Station__Request_Committee[i].Station_Refuse_Reason_Nots != null)
                                                            {
                                                                @Request_Type_name.List_Station__Request_Committee[i].Station_Refuse_Reason_Nots
                                                            }
                                                            else
                                                            {
                                                                <span>لا يوجد بيان</span>
                                                            }
                                                        </td>
                                                    </tr>
                                                }
                                                <tr><td colspan="4" align="center">   <span>المتطلبات</span></td></tr>
                                            </tbody>
                                        </table>

                                        <table style="width: 100%; border: 1px solid;">
                                            <tbody>
                                                <tr>
                                                    <th class="background-c99b6d" hidden>  IDبند</th>
                                                    <th class="background-c99b6d"> متطلبات</th>
                                                    <th class="background-c99b6d">موقف </th>
                                                    <th class="background-c99b6d">ملاحظات </th>
                                                </tr>
                                                @* بنودالادمن *@

                                                @foreach (var Station_CheckList_Item in Request_Type_name.List_Station__Request_Committee[i].List_Station_Request_Committee_Admin)
                                                {
                                                    <tr>
                                                        <td hidden>@Station_CheckList_Item.Station_CheckList_ID</td>
                                                        <td>@Station_CheckList_Item.Station_CheckList_name</td>
                                                        <td>
                                                            @if (@Station_CheckList_Item.IsAccepted_Band_Admin == true)
                                                            {
                                                                <span>متوافق</span>
                                                            }
                                                            else if (@Station_CheckList_Item.IsAccepted_Band_Admin == false)
                                                            {
                                                                <span>غير متوافق</span>
                                                            }
                                                            else
                                                            {
                                                                <span>لا توجد بيانات</span>
                                                            }
                                                        </td>
                                                        <td>@Station_CheckList_Item.Notes_Ar_Band_Admin</td>
                                                    </tr>
                                                }

                                            </tbody>
                                        </table>
                                    }
                                </div>
                            </div>
                            <br />
                        </div>
                        @* ******************* موقف المساعد **************** *@
                        <div role="tabpanel" class="tab-pane fade in" id="BasicTab_@Num_Comm" style="height:auto;">
                            <div>
                                <table id="farmsTable" class="table table-bordered table-striped dataTable" role="grid"
                                       style="margin: 15px; width: 100%; background-color: lightgray; border: 2px solid #606f49; ">
                                    <thead>
                                        <tr>
                                            <th class="background-c99b6d">الاسم </th>
                                            <th class="background-c99b6d">موقف </th>
                                            <th class="background-c99b6d">ملاحظات  </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @if (Request_Type_name.List_Station__Request_Committee[i].List_Station_Request_Committee_Confirm.Count > 0)
                                        {
                                            foreach (var Station_CheckList_Confrim in Request_Type_name.List_Station__Request_Committee[i].List_Station_Request_Committee_Confirm)
                                            {
                                                <tr>
                                                    <td>@Station_CheckList_Confrim.FullName_Confirm</td>
                                                    <td>
                                                        @if (Station_CheckList_Confrim.IsAccepted_Confirm == true)
                                                        {
                                                            <span>متوافق</span>
                                                        }
                                                        else if (Station_CheckList_Confrim.IsAccepted_Confirm == false)
                                                        {
                                                            <span>غير موافق</span>
                                                        }
                                                        else
                                                        {
                                                            <span>لا توجد بيانات</span>
                                                        }
                                                    </td>

                                                    <td>@Station_CheckList_Confrim.Notes_Confirm</td>
                                                </tr>
                                            }
                                        }
                                        else
                                        {
                                            <tr>
                                                <td colspan="3" align="center">لا توجد بيانات للمساعد</td>
                                            </tr>
                                        }
                                    </tbody>
                                </table>


                            </div>
                        </div>

                        @* ******************* الصور **************** *@
                        <div role="tabpanel" class="tab-pane fade in" id="ImgeTab_@Num_Comm" style="height:auto;">
                            <div role="tabpanel" class="tab-pane fade in" id="ImgeTab_@Num_Comm" style="height:auto;">
                                <div class="row">
                                    <div class="col-md-12 dataTables_wrapper form-inline dt-bootstrap">
                                        <table style="width:100%;">
                                            <tbody>
                                                @if (Request_Type_name.List_Station__Request_Committee[i].List_Station_Request_Committee_Imge.Count > 0)
                                                {
                                                    <tr>
                                                        <td>
                                                            @foreach (var Station_CheckList_Confrim in Request_Type_name.List_Station__Request_Committee[i].List_Station_Request_Committee_Imge)
                                                            {
                                                                string imageBase64 = Convert.ToBase64String(Station_CheckList_Confrim.Station_Committee_Imge_Binary);
                                                                string imageSrc = string.Format("data:image/png;base64,{0}", imageBase64);
                                                                <img width='100px' style="padding:2px;" src="@imageSrc">
                                                                @Station_CheckList_Confrim.Infection_Comment
                                                            }
                                                        </td>
                                                    </tr>

                                                }
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>

    }
}
<br />
<div class="row">

    <label class="tapp-title">
        الرسوم
    </label>

</div>



<br />

<table id="table_List_Im_Check" class="table table-bordered table-striped dataTable">
    <thead>
        <tr class="label-primary">

            <th>م</th>
            <th>مسمي الاعتماد</th>
            <th>حالة الاعتماد</th>
            <th>قيمة الاعتماد</th>
            <th>حالة الدفع</th>
            <th>رسوم اللجنة</th>

            <th>رسوم المهندس</th>
            <th>حالة الدفع للجنة</th>
        </tr>
    </thead>
    <tbody>
        @if (Model.List_Station_Fees.Count != null)
        {
            //foreach (var item in Model.List_Station_Fees)
            for (int i = 0; i < Model.List_Station_Fees.Count(); i++)
            {


                int num_rows = i + 1;
                var Req_Data = Model.List_Station_Fees.Where(a => a.Name_AR == @Model.List_Station_Fees[i].Name_AR).Count();
                var Name_AR_Type_Count = Model.List_Station_Fees.Where(a => a.Name_AR_Type == @Model.List_Station_Fees[i].Name_AR_Type
                    && a.Name_AR == @Model.List_Station_Fees[i].Name_AR).Count();
        <tr>
            <td>@num_rows</td>
            @*@if (i == 0)
        {*@
            <td style="vertical-align: middle;" align="center">@Model.List_Station_Fees[i].Name_AR</td>
            @*}
        else if (@Model.List_Station_Fees[i - 1].Name_AR != @Model.List_Station_Fees[i].Name_AR)
        {
            <td rowspan="@Req_Data" style="vertical-align: middle;" align="center">@Model.List_Station_Fees[i].Name_AR</td>
        }
        @if (i == 0)
        {
            <td rowspan="@Name_AR_Type_Count" style="vertical-align: middle;" align="center">@Model.List_Station_Fees[i].Name_AR_Type</td>
        }

        else if (@Model.List_Station_Fees[i - 1].Name_AR != @Model.List_Station_Fees[i].Name_AR)
        {
            <td rowspan="@Name_AR_Type_Count" style="vertical-align: middle;" align="center">@Model.List_Station_Fees[i].Name_AR_Type</td>
        }
        else if (@Model.List_Station_Fees[i - 1].Name_AR_Type != @Model.List_Station_Fees[i].Name_AR_Type)
        {
            <td rowspan="@Name_AR_Type_Count" style="vertical-align: middle;" align="center">@Model.List_Station_Fees[i].Name_AR_Type</td>
        }*@
            <td  style="vertical-align: middle;" align="center">@Model.List_Station_Fees[i].Name_AR_Type</td>
            <td>
                @if (@Model.List_Station_Fees[i].fess_Requst != null)
                {
                    @Model.List_Station_Fees[i].fess_Requst
                }
                else
                {
                    <span>لا توجد قيمة</span>
                }
            </td>
            <td>
                @if (@Model.List_Station_Fees[i].fess_Requst != null)
                {
                    if (@Model.List_Station_Fees[i].IsPaid == true)
                    {
                        <span>تم الدفع</span>
                    }
                    else
                    {
                        <span>لم يتم الدفع</span>
                    }
                }
            </td>
            <td>
                @if (@Model.List_Station_Fees[i].fess_Shift != null)
                {
                    @Model.List_Station_Fees[i].fess_Shift
                }
                else
                { <span>لا توجد قيمة</span>}
            </td>
            <td>
                @if (@Model.List_Station_Fees[i].Committee_eng_fess != null)
                {
                    @Model.List_Station_Fees[i].Committee_eng_fess
                }
                else
                { <span>لا توجد قيمة</span>}
            </td>
            <td>
                @{
                    var Fees_Val = 0;
                    if (@Model.List_Station_Fees[i].fess_Shift != null || @Model.List_Station_Fees[i].Committee_eng_fess != null)
                    {
                        Fees_Val = 1;
                    }
                    if (Fees_Val == 1)
                    {
                        if (@Model.List_Station_Fees[i].Committee_IsPaid == true)
                        {
                            <span>تم الدفع</span>
                        }
                        else
                        {
                            <span>لم يتم الدفع</span>
                        }
                    }
                    else
                    { <span>لا توجد رسوم </span>}
                }
            </td>
        </tr>

            }
            @*for (int i = 0; i < Model.List_Station_Fees.Count(); i++)
                    {
                        int num_rows = i + 1;
                        var Req_Data = Model.List_Station_Fees.Where(a => a.Name_AR == @Model.List_Station_Fees[i].Name_AR).Count();
                        var Name_AR_Type_Count = Model.List_Station_Fees.Where(a => a.Name_AR_Type == @Model.List_Station_Fees[i].Name_AR_Type
                        && a.Name_AR == @Model.List_Station_Fees[i].Name_AR).Count();
                <tr>
                    <td>@num_rows</td>

                    @if (i == 0)
                    {
                        <td rowspan="@Req_Data" style="vertical-align: middle;" align="center">@Model.List_Station_Fees[i].Name_AR</td>
                        <td rowspan="@Name_AR_Type_Count" style="vertical-align: middle;" align="center">@Model.List_Station_Fees[i].Name_AR_Type</td>
                        <td rowspan="@Name_AR_Type_Count" style="vertical-align: middle;" align="center">

                            @if (@Model.List_Station_Fees[i].fess_Requst != null)
                            {
                                @Model.List_Station_Fees[i].fess_Requst
                            }
                            else
                            { <span>لا توجد قيمة</span>}
                        </td>
                        <td rowspan="@Name_AR_Type_Count" style="vertical-align: middle;" align="center">
                            @if (@Model.List_Station_Fees[i].fess_Requst != null)
                            {
                                if (@Model.List_Station_Fees[i].IsPaid == true)
                                {
                                    <span>تم الدفع</span>
                                }
                                else
                                {
                                    <span>لم يتم الدفع</span>
                                }
                            }
                        </td>
                    }
                    else if (@Model.List_Station_Fees[i - 1].Name_AR != @Model.List_Station_Fees[i].Name_AR)
                    {
                        <td rowspan="@Req_Data" style="vertical-align: middle;" align="center">@Model.List_Station_Fees[i].Name_AR</td>
                    }

                    @if (i == 0)
                    {
                    }
                    else if (@Model.List_Station_Fees[i - 1].Name_AR_Type != @Model.List_Station_Fees[i].Name_AR_Type)
                    {
                        <td rowspan="@Name_AR_Type_Count" style="vertical-align: middle;" align="center"> @Model.List_Station_Fees[i].Name_AR_Type </td>

                        <td rowspan="@Name_AR_Type_Count" style="vertical-align: middle;" align="center">

                            @if (@Model.List_Station_Fees[i].fess_Requst != null)
                            {
                                @Model.List_Station_Fees[i].fess_Requst
                            }
                            else
                            { <span> لا توجد قيمة</span>}
                        </td>
                        <td rowspan="@Name_AR_Type_Count" style="vertical-align: middle;" align="center">
                            @if (@Model.List_Station_Fees[i].fess_Requst != null)
                            {
                                if (@Model.List_Station_Fees[i].IsPaid == true)
                                {
                                    <span> تم الدفع </span>
                                }
                                else
                                {
                                    <span> لم يتم الدفع</span>
                                }
                            }
                        </td>
                    }
                    <td>
                        @if (@Model.List_Station_Fees[i].fess_Shift != null)
                        {
                            @Model.List_Station_Fees[i].fess_Shift
                        }
                        else
                        { <span>لا توجد قيمة</span>}
                    </td>
                    <td>
                        @if (@Model.List_Station_Fees[i].Committee_eng_fess != null)
                        {
                            @Model.List_Station_Fees[i].Committee_eng_fess
                        }
                        else
                        { <span>لا توجد قيمة</span>}
                    </td>
                    <td>
                        @{
                            var Fees_Val = 0;
                            if (@Model.List_Station_Fees[i].fess_Shift != null || @Model.List_Station_Fees[i].Committee_eng_fess != null)
                            {
                                Fees_Val = 1;
                            }
                            if (Fees_Val == 1)
                            {
                                if (@Model.List_Station_Fees[i].Committee_IsPaid == true)
                                {
                                    <span>تم الدفع</span>
                                }
                                else
                                {
                                    <span>لم يتم الدفع</span>
                                }
                            }
                            else
                            { <span>لا توجد رسوم </span>}
                        }
                    </td>
                </tr>
                                }*@
        }
    </tbody>
</table>
<script>

    function reply_click2(element) {
        $(".toggle-div2_" + element.id + "").toggle('fast', "linear");
    }
    function reply_click3(element) {
        $(".toggle-div33_" + element.id + "").toggle('fast', "linear");
    }
    function reply_click44(element) {
        $(".toggle-div3_" + element.id + "").toggle('fast', "linear");
    }
    $("#Txt_StartDate_Quarantine ,#Txt_EndDate_Quarantine ").datepicker(
        {
            dateFormat: 'yy-mm-dd',
            changeYear: true,
        });

    $(".datepicker").datepicker(
        {
            dateFormat: 'yy-mm-dd',
            changeYear: true,
        });

    function reply_click4(element) {
        $(".QuarantineTab_" + element.id + "").toggle('fast', "linear");
        /*        $(".toggle-div3_" + element.id + "").toggle('fast', "linear");*/
    }

    function submitValue2(element) {

        let idRequst = element.id;
        alert(idRequst)
        _Station_ID = $("#Station_ID_" + idRequst).val();
        _Station_Accreditation_Request_ID = $("#Station_Accreditation_Request_ID_" + idRequst).val();
        _Station_Accreditation_Data_ID = $("#Station_Accreditation_Data_ID_" + idRequst).val();
        _Txt_Notes_Quarantine = $("#Txt_Notes_Quarantine_" + idRequst).val();
        _Txt_StartDate_Quarantine = $("#Txt_StartDate_Quarantine_" + idRequst).val();
        _Txt_EndDate_Quarantine = $("#Txt_EndDate_Quarantine_" + idRequst).val();

    var Check = 0;

    var _Radio = $("input:radio[name=IsAccepted_Quarantine]:checked").val();
    if (_Radio >0) {
        var _IsAccepted_Quarantine = true;
        if (_Radio == 2) {

            if (_Txt_Notes_Quarantine == "" || _Station_Accreditation_Request_ID == "") {
                alertify.error("يجب اضافة تعليق  ");
                Check = 0;
            }
            else {
                _IsAccepted_Quarantine = false;
                Check = 1;
            }
        }

        if (_Radio == 1) {
            if (_Txt_Notes_Quarantine == "" || _Txt_StartDate_Quarantine == "" || _Txt_EndDate_Quarantine == "" || _Station_Accreditation_Request_ID == "") {
                alertify.error("يجب استكمال البيانات ");
                Check = 0;
            }
            else {
                Check = 1;
            }
        }
        if (Check == 1) {
            alert(_Txt_Notes_Quarantine)
            $.ajax({
                type: "POST",
                url: "/Station_Final_Result/Save_Station_Requeste_Quarantine",
                dataType: "json",
                data: JSON.stringify(
                    {
                        Station_Requst_ID: _Station_Accreditation_Request_ID,
                        Notes_Quarantine: _Txt_Notes_Quarantine,
                        StartDate_Quarantine: _Txt_StartDate_Quarantine,
                        EndDate_Quarantine: _Txt_EndDate_Quarantine,
                        IsAccepted_Quarantine: _IsAccepted_Quarantine,
                        Station_Accreditation_Data_ID: _Station_Accreditation_Data_ID,
                        Station_ID: _Station_ID
                    }),
                contentType: "application/json; charset=utf-8",
                success: function (data) {
                    if (data == "Exist") {
                        alertify.success("@PlantQuar.WEB.Language.Resource_data1.Save_Insert");
                        location.href = "/Station_Pages/Station_Final_Result/Index?stationId=" + _Station_ID
                    }
                    else if (data == "error") {
                        alertify.error("لم يتم تحديث الموقف");
                    }
                    else {
                        //$("#Check_Date").val(null);
                        //$("#Delegation_Date").val(null);
                        //$("#StartTime").val(null);
                        //$("#EndTime").val(null);

                        //$("#CheckRequest_Id").val(0);
                    }
                }
            });
        }
    }
    else {

        alertify.error("يجب اختيار موقف مقبول او مرفوض")
    }
        alert(element.id)
    }

        @*$('#submitValue').click(function (e) {



        Station_ID = $("#Station_ID").val();
        Station_Accreditation_Request_ID = $("#Station_Accreditation_Request_ID").val();
        _Station_Accreditation_Data_ID = $("#Station_Accreditation_Data_ID").val();
        Txt_Notes_Quarantine = $("#Txt_Notes_Quarantine").val();
        Txt_StartDate_Quarantine = $("#Txt_StartDate_Quarantine").val();
        Txt_EndDate_Quarantine = $("#Txt_EndDate_Quarantine").val();

            var Check = 0;

            var _Radio = $("input:radio[name=IsAccepted_Quarantine]:checked").val();
            if (_Radio >0) {
                    var IsAccepted_Quarantine = true;
                if (_Radio == 2) {

                    if (Txt_Notes_Quarantine == "" || Station_Accreditation_Request_ID == "") {
                        alertify.error("يجب اضافة تعليق  ");
                        Check = 0;
                    }
                    else {
                        IsAccepted_Quarantine = false;
                        Check = 1;
                    }
                }

                if (_Radio == 1) {
                    if (Txt_Notes_Quarantine.trim() == "" || Txt_StartDate_Quarantine.trim() == "" || Txt_EndDate_Quarantine.trim() == "" || Station_Accreditation_Request_ID.trim() == "") {
                        alertify.error("يجب استكمال البيانات ");
                        Check = 0;
                    }
                    else {
                        Check = 1;
                    }
                }
                if (Check == 1) {
                    $.ajax({
                        type: "POST",
                        url: "/Station_Final_Result/Save_Station_Requeste_Quarantine",
                        dataType: "json",
                        data: JSON.stringify(
                            {
                                Station_Requst_ID: Station_Accreditation_Request_ID,
                                Notes_Quarantine: Txt_Notes_Quarantine,
                                StartDate_Quarantine: Txt_StartDate_Quarantine,
                                EndDate_Quarantine: Txt_EndDate_Quarantine,
                                IsAccepted_Quarantine: IsAccepted_Quarantine,
                                Station_Accreditation_Data_ID: _Station_Accreditation_Data_ID,
                                Station_ID: Station_ID
                            }),
                        contentType: "application/json; charset=utf-8",
                        success: function (data) {
                            if (data == "Exist") {
                                alertify.success("@PlantQuar.WEB.Language.Resource_data1.Save_Insert");
                                location.href = "/Station_Pages/Station_Final_Result/Index?stationId=" + Station_ID
                            }
                            else if (data == "error") {
                                alertify.error("لم يتم تحديث الموقف");
                            }
                            else {
                                //$("#Check_Date").val(null);
                                //$("#Delegation_Date").val(null);
                                //$("#StartTime").val(null);
                                //$("#EndTime").val(null);

                                //$("#CheckRequest_Id").val(0);
                            }
                        }
                    });
                }
            }
            else {

                alertify.error("يجب اختيار موقف مقبول او مرفوض")
            }
    });*@
</script>

